{"version":3,"sources":["../../../../components/WordCloud.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useMemo } from 'react';\r\n\r\ninterface WordCloudProps {\r\n  transcript: string;\r\n  maxWords?: number;\r\n}\r\n\r\nexport default function WordCloud({ transcript, maxWords = 50 }: WordCloudProps) {\r\n  const wordData = useMemo(() => {\r\n    if (!transcript) return [];\r\n    \r\n    // Normalizar y limpiar el texto\r\n    const cleaned = transcript\r\n      .normalize('NFD')\r\n      .replace(/[\\u0300-\\u036f]/g, '') // Eliminar diacríticos\r\n      .replace(/[.,!?;:\\u2014\\-()\"'«»\\[\\]]+/g, ' ') // Eliminar puntuación\r\n      .toLowerCase();\r\n    \r\n    const words = cleaned.trim().split(/\\s+/).filter(Boolean);\r\n    const wordCount: Record<string, number> = {};\r\n    \r\n    words.forEach(word => {\r\n      if (word.length > 2) { // Ignorar palabras muy cortas\r\n        wordCount[word] = (wordCount[word] || 0) + 1;\r\n      }\r\n    });\r\n    \r\n    // Convertir a array y ordenar por frecuencia\r\n    return Object.entries(wordCount)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, maxWords)\r\n      .map(([text, value]) => ({ text, value }));\r\n  }, [transcript, maxWords]);\r\n\r\n  // Calcular tamaños de fuente basados en frecuencia\r\n  const maxValue = Math.max(...wordData.map(w => w.value), 1);\r\n  const minFontSize = 12;\r\n  const maxFontSize = 48;\r\n\r\n  if (wordData.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\r\n        <p className=\"text-gray-400 italic\">No hay palabras para mostrar</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative w-full h-64 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 overflow-hidden\">\r\n      <div className=\"flex flex-wrap items-center justify-center gap-2 h-full\">\r\n        {wordData.map(({ text, value }) => {\r\n          const fontSize = minFontSize + ((value / maxValue) * (maxFontSize - minFontSize));\r\n          const opacity = 0.5 + (value / maxValue) * 0.5;\r\n          \r\n          // Colores basados en frecuencia\r\n          const hue = 200 + (value / maxValue) * 60; // De azul a cian\r\n          const saturation = 60 + (value / maxValue) * 30;\r\n          const lightness = 45 - (value / maxValue) * 15;\r\n          \r\n          return (\r\n            <span\r\n              key={text}\r\n              className=\"font-semibold transition-transform hover:scale-110 cursor-default\"\r\n              style={{\r\n                fontSize: `${fontSize}px`,\r\n                opacity,\r\n                color: `hsl(${hue}, ${saturation}%, ${lightness}%)`,\r\n                lineHeight: 1.2,\r\n              }}\r\n              title={`\"${text}\" aparece ${value} ${value === 1 ? 'vez' : 'veces'}`}\r\n            >\r\n              {text}\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"qDACA,EAAA,EAAA,CAAA,CAAA,OAOe,SAAS,EAAU,YAAE,CAAU,UAAE,EAAW,EAAE,CAAkB,EAC7E,IAAM,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACvB,GAAI,CAAC,EAAY,MAAO,EAAE,CAS1B,IAAM,EANU,AAMF,EALX,SAAS,CAAC,OACV,OAAO,CAAC,mBAAoB,IAAI,AAChC,OAAO,CAAC,eAD+C,gBACf,KAAK,AAC7C,WAAW,GAEQ,IAAI,GAAG,CAHyC,IAGpC,CAAC,OAAO,MAAM,CAAC,SAC3C,EAAoC,CAAC,EAS3C,OAPA,EAAM,OAAO,CAAC,IACR,EAAK,MAAM,CAAG,GAAG,CACnB,CAAS,CAAC,EAAK,CAAG,CAAC,CAAS,CAAC,EAAK,EAAI,CAAC,GAAI,CAE/C,GAGO,OAAO,OAAO,CAAC,GACnB,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,EAC1B,KAAK,CAAC,EAAG,GACT,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GAAK,CAAC,MAAE,QAAM,EAAM,CAAC,CAC5C,EAAG,CAAC,EAAY,EAAS,EAGnB,EAAW,KAAK,GAAG,IAAI,EAAS,GAAG,CAAC,GAAK,EAAE,KAAK,EAAG,UAIzD,AAAwB,GAAG,CAAvB,EAAS,MAAM,CAEf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8GACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAuB,mCAMxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACZ,EAAS,GAAG,CAAC,CAAC,MAAE,CAAI,OAAE,CAAK,CAAE,GAU1B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,UAAU,oEACV,MAAO,CACL,SAAU,CAAA,EAbC,AAaE,AA5BP,GAeqB,EAAQ,EAAa,GAa1B,EAAE,CAAC,CACzB,EAd+C,KAAe,CACpD,GAAO,EAAQ,EAAY,GADoC,AAezE,MAAO,CAAC,IAAI,EAXN,AAWQ,IAXD,EAAQ,EAAY,GAWf,CAXmB,CAWjB,EAVP,AAUS,GAVH,EAAQ,EAAY,GAUN,GAAG,CAXkB,CAE1C,AAS0B,GATpB,EAAQ,EAAY,GASU,EAAE,CAAC,CACnD,WAAY,GACd,EACA,MAAO,CAAC,CAAC,EAAE,EAAK,UAAU,EAAE,EAAM,CAAC,EAAY,IAAV,EAAc,MAAQ,QAAA,CAAS,UAEnE,GAVI,OAiBnB"}
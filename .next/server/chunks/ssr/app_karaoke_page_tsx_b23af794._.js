module.exports=[86576,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);let e=["El sol brilla en el cielo azul","Mi perro corre por el parque verde","La luna llena ilumina la noche oscura","Los pÃ¡jaros cantan en la maÃ±ana fresca","La perseverancia convierte los sueÃ±os en realidad cada dÃ­a","Cada palabra que pronuncio me acerca mÃ¡s a la fluidez perfecta","Hoy elijo hablar con confianza y sin miedo al error","Mi voz es importante y merece ser escuchada con claridad","La prÃ¡ctica constante transforma las dificultades en fortalezas duraderas","Cada intento es un paso adelante en mi camino de mejora","Respiro profundo y hablo con calma y seguridad total","Mi progreso es real aunque a veces parezca invisible","Acepto mis desafÃ­os y celebro cada pequeÃ±o logro alcanzado","La fluidez llega cuando menos la espero y mÃ¡s la practico","El silencio tambiÃ©n es una forma vÃ¡lida de comunicaciÃ³n profunda","Las palabras tienen poder cuando nacen del corazÃ³n sincero","La paciencia es la virtud que acompaÃ±a todo aprendizaje verdadero","El camino hacia la maestrÃ­a se construye paso a paso","La imperfecciÃ³n es parte natural del proceso de crecimiento humano","El viento susurra secretos antiguos entre las hojas verdes","Las olas del mar danzan al ritmo eterno de la luna","El amanecer pinta el cielo con colores de esperanza","Las estrellas brillan intensamente en la oscuridad profunda","La lluvia acaricia suavemente la tierra sedienta esperando","Los Ã¡rboles centenarios guardan historias de tiempos pasados","El arcoÃ­ris emerge majestuoso despuÃ©s de la tormenta violenta","La respiraciÃ³n profunda y controlada mejora la articulaciÃ³n precisa","El inicio suave de las palabras reduce la tensiÃ³n muscular","La velocidad pausada permite mayor control sobre el habla","Los ejercicios diarios fortalecen los mÃºsculos de la pronunciaciÃ³n","La conciencia articulatoria transforma la manera de comunicarnos efectivamente","El ritmo constante facilita la coordinaciÃ³n entre pensamiento y palabra","La Ãºnica forma de hacer un gran trabajo es amar lo que haces - Steve Jobs","El Ã©xito es la suma de pequeÃ±os esfuerzos repetidos dÃ­a tras dÃ­a - Robert Collier","No cuentes los dÃ­as haz que los dÃ­as cuenten realmente - Muhammad Ali","La mejor manera de predecir el futuro es crearlo tÃº mismo - Peter Drucker","Todo lo que puedas imaginar es real si trabajas por ello - Pablo Picasso","El fracaso es simplemente la oportunidad de comenzar de nuevo con mÃ¡s inteligencia - Henry Ford","La vida es como montar en bicicleta para mantener el equilibrio debes seguir moviÃ©ndote - Albert Einstein","Caminante no hay camino se hace camino al andar - Antonio Machado","VolverÃ¡n las oscuras golondrinas en tu balcÃ³n sus nidos a colgar - Gustavo Adolfo BÃ©cquer","En un lugar de la Mancha de cuyo nombre no quiero acordarme - Miguel de Cervantes","Por una mirada un mundo por una sonrisa un cielo - Gustavo Adolfo BÃ©cquer","Verde que te quiero verde verde viento verdes ramas - Federico GarcÃ­a Lorca","Tres tristes tigres tragaban trigo en un trigal asoleado","Pablito clavÃ³ un clavito en la calva de un calvito","El cielo estÃ¡ enladrillado quien lo desenladrillarÃ¡","Como poco coco como poco coco compro y siempre digo poco coco compro","Las palabras son ventanas o pueden ser muros que separan","Escuchar con atenciÃ³n es el primer paso hacia la comprensiÃ³n mutua","La comunicaciÃ³n efectiva requiere claridad honestidad y empatÃ­a profunda","Cada conversaciÃ³n es una oportunidad para conectar con otra alma","El lenguaje corporal comunica mÃ¡s que las palabras pronunciadas","Soy capaz de superar cualquier obstÃ¡culo con determinaciÃ³n","Mi voz merece ser escuchada y respetada por todos","Cada dÃ­a mi comunicaciÃ³n es mÃ¡s clara y efectiva","ConfÃ­o plenamente en mi capacidad de expresarme con fluidez","Acepto mis imperfecciones y celebro mis fortalezas Ãºnicas","MÃ¡s vale pÃ¡jaro en mano que cien volando por el cielo","No por mucho madrugar amanece mÃ¡s temprano nunca","A quien madruga Dios le ayuda siempre en sus empresas","En boca cerrada no entran moscas ni problemas innecesarios","El que siembra vientos cosecha tempestades inevitablemente","El tiempo cura todas las heridas si le damos espacio","La paciencia es amarga pero su fruto es dulce siempre","Roma no se construyÃ³ en un dÃ­a ni tu fluidez tampoco","Cada momento presente es una oportunidad de empezar de nuevo","El maÃ±ana pertenece a quienes se preparan hoy con dedicaciÃ³n"];function f(){let[a,f]=(0,c.useState)(""),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(-1),[k,l]=(0,c.useState)(1.2),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(0),[y,z]=(0,c.useState)(new Set),A=(0,c.useRef)(new Set),[B,C]=(0,c.useState)(new Map),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),N=(0,c.useRef)(null);(0,c.useRef)(null);let O=(0,c.useRef)(null),P=(0,c.useRef)(null),Q=(0,c.useRef)(null),R=(0,c.useRef)(null),S=(0,c.useRef)(0);(0,c.useEffect)(()=>{R.current&&o&&R.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[i,o]),(0,c.useEffect)(()=>()=>{V(),Q.current&&Q.current.getTracks().forEach(a=>a.stop()),O.current&&O.current.close()},[]);let T=async()=>{if(!a)return void alert("Selecciona una frase primero");r(!0);try{let a,b,c=await navigator.mediaDevices.getUserMedia({audio:!0});Q.current=c;let d=new(window.AudioContext||window.webkitAudioContext);O.current=d;let e=d.createMediaStreamSource(c),f=d.createAnalyser();f.fftSize=256,P.current=f,e.connect(f),v(!0),a=0,b=setInterval(()=>{x(a+=2),a>=100&&(clearInterval(b),v(!1),U())},40)}catch(a){alert("No se pudo acceder al micrÃ³fono"),r(!1)}},U=()=>{j(0),p(!0),z(new Set),A.current=new Set,C(new Map),E([]),G([]),M(!1),S.current=Date.now();let a=0;N.current=setInterval(()=>{a++,S.current=Date.now(),a>=g.length?(setTimeout(()=>{Y()},500),clearInterval(N.current)):j(a)},1e3*k)},V=()=>{p(!1),N.current&&clearInterval(N.current),W()},W=()=>{if(!P.current||!o)return;let a=new Uint8Array(P.current.frequencyBinCount),b=()=>{if(o&&P.current){if(P.current.getByteFrequencyData(a),a.reduce((a,b)=>a+b)/a.length>30){if(t(!0),i>=0&&i<g.length&&!A.current.has(i)){let a=Date.now()-S.current>1e3*k*.7;A.current.add(i),z(new Set(A.current)),a?(E(a=>[...a,i]),K(!0),setTimeout(()=>K(!1),1500)):G(a=>[...a,i]);let b=D.length+ +!!a;n(10*(F.length+ +!a)-2*b)}}else t(!1);requestAnimationFrame(b)}};b()};(0,c.useEffect)(()=>{o&&W()},[o,i]);let X=async()=>{I("Guardando...");let a={game:"karaoke-fluido",score:m,attempts:g.length,correct:F.length,late:D.length,missed:g.length-F.length-D.length,timestamp:new Date().toISOString()};try{if((await fetch("/api/me",{credentials:"include"})).ok){let b=await fetch("/api/save-score",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),c=localStorage.getItem("game_scores"),d=c?JSON.parse(c):[];if(d.push({...a,id:Date.now().toString()}),localStorage.setItem("game_scores",JSON.stringify(d)),b.ok)I("âœ… Â¡Guardado exitosamente en la base de datos!");else{let a=await b.json().catch(()=>({}));console.error("Error guardando en base de datos:",a),I(`âš ï¸ Error: ${a.error||"Desconocido"}. Guardado localmente.`)}}else{let b=localStorage.getItem("game_scores"),c=b?JSON.parse(b):[];c.push({...a,id:Date.now().toString()}),localStorage.setItem("game_scores",JSON.stringify(c)),I("ðŸ’¾ Guardado localmente (Inicia sesiÃ³n para guardar en la nube)")}}catch(d){console.error("Error saving score:",d);let b=localStorage.getItem("game_scores"),c=b?JSON.parse(b):[];c.push({...a,id:Date.now().toString()}),localStorage.setItem("game_scores",JSON.stringify(c)),I("âœ… Guardado localmente")}setTimeout(()=>I(""),4e3)},Y=()=>{V(),M(!0)};if(!q)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-8 mt-16 md:mt-20",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 text-center",children:"ðŸŽ¤ Karaoke con Frases"}),(0,b.jsxs)("p",{className:"text-center text-gray-600 mb-6",children:["Gana ",(0,b.jsx)("strong",{children:"+10 puntos"})," por cada palabra pronunciada a tiempo"]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#6B3F1D] mb-4",children:"Â¿CÃ³mo jugar?"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-6",children:[(0,b.jsx)("li",{children:"Selecciona una frase o canciÃ³n de la lista"}),(0,b.jsx)("li",{children:"Primero harÃ¡s un ejercicio de respiraciÃ³n (2 segundos)"}),(0,b.jsx)("li",{children:"Las palabras se iluminarÃ¡n una por una"}),(0,b.jsx)("li",{children:"Lee cada palabra cuando se ilumine"}),(0,b.jsx)("li",{children:"Â¡Gana puntos por mantener el ritmo!"})]}),(0,b.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-900",children:[(0,b.jsx)("strong",{children:"â­ Â¿CÃ³mo se ganan puntos?"}),(0,b.jsx)("br",{}),"El sistema detecta cuando hablas usando el micrÃ³fono. Ganas ",(0,b.jsx)("strong",{children:"+10 puntos"})," por cada palabra que pronuncias mientras estÃ¡ iluminada. El puntaje final refleja quÃ© tan bien mantuviste el ritmo de lectura."]})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("label",{className:"block mb-2 font-semibold text-gray-700",children:["Velocidad: ",k.toFixed(1),"s por palabra"]}),(0,b.jsx)("input",{type:"range",min:"0.8",max:"2.5",step:"0.1",value:k,onChange:a=>l(parseFloat(a.target.value)),className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,b.jsx)("span",{children:"RÃ¡pido"}),(0,b.jsx)("span",{children:"Normal"}),(0,b.jsx)("span",{children:"Lento"})]})]}),(0,b.jsx)("div",{className:"p-4 bg-[#F7C873] bg-opacity-30 rounded-lg border border-[#6B3F1D]",children:(0,b.jsxs)("p",{className:"text-sm text-[#6B3F1D]",children:[(0,b.jsx)("strong",{children:"ðŸ’¡ Beneficio terapÃ©utico:"})," Seguir una guÃ­a visual reduce la presiÃ³n interna y ayuda a controlar velocidad y pausas, evitando bloqueos iniciales."]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Selecciona una frase:"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-[500px] overflow-y-auto pr-2",children:e.map((c,d)=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{f(c),h(c.split(" ")),j(-1),n(0)},className:`flex-1 p-3 rounded-lg text-left text-sm transition-all ${a===c?"bg-gradient-to-r from-[#F7C873] to-[#e6b35a] text-[#6B3F1D] font-semibold shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:c}),(0,b.jsx)("button",{onClick:()=>(a=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();let b=new SpeechSynthesisUtterance(a);b.lang="es-ES",b.rate=.9,window.speechSynthesis.speak(b)}else alert("Tu navegador no soporta sÃ­ntesis de voz")})(c),className:"px-3 py-2 bg-[#8B5F3D] text-white rounded-lg hover:bg-[#6B3F1D] transition-colors text-sm",title:"Escuchar frase",children:"ðŸ”Š"})]},d))})]}),(0,b.jsx)("button",{onClick:T,disabled:!a,className:"w-full py-4 bg-gradient-to-r from-[#6B3F1D] to-[#8B5F3D] text-white text-xl font-bold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"ðŸŽ® Iniciar Karaoke"}),(0,b.jsx)(d.default,{href:"/progreso",className:"block mt-4 text-center text-[#6B3F1D] hover:underline",children:"ðŸ“Š Ver mi progreso"})]})});if(u){let a=100+w/100*100;return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center mt-16 md:mt-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Respira profundamente"}),(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)("div",{className:"rounded-full bg-gradient-to-br from-[#F7C873] to-[#e6b35a] transition-all duration-300",style:{width:`${a}px`,height:`${a}px`}})}),(0,b.jsx)("p",{className:"text-xl text-gray-600",children:w<50?"Inhala...":"Exhala..."})]})})}if(L){let c=g.length,e=c-F.length-D.length,i=Math.round(10*(c>0?F.length/c*100:0))/10;return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-8 mt-16 md:mt-20",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-6",children:"ðŸŽ‰ Â¡Karaoke Completado!"}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-[#F7C873] to-[#e6b35a] text-white p-6 rounded-lg mb-6 text-center",children:[(0,b.jsx)("p",{className:"text-lg mb-2",children:"PuntuaciÃ³n Final"}),(0,b.jsx)("p",{className:"text-6xl font-bold",children:m})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-[#FFF6ED] border-2 border-[#F7C873] p-4 rounded-lg text-center",children:[(0,b.jsx)("p",{className:"text-4xl mb-2",children:"âœ…"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-[#6B3F1D]",children:F.length}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"A tiempo (+10 pts)"})]}),(0,b.jsxs)("div",{className:"bg-yellow-100 border-2 border-yellow-500 p-4 rounded-lg text-center",children:[(0,b.jsx)("p",{className:"text-4xl mb-2",children:"â°"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-yellow-700",children:D.length}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"TardÃ­as (-2 pts)"})]}),(0,b.jsxs)("div",{className:"bg-red-100 border-2 border-red-500 p-4 rounded-lg text-center",children:[(0,b.jsx)("p",{className:"text-4xl mb-2",children:"âŒ"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-red-700",children:e}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Omitidas (0 pts)"})]})]}),(0,b.jsxs)("div",{className:"bg-[#FFF6ED] p-4 rounded-lg mb-6",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:"Resumen"}),(0,b.jsxs)("p",{className:"text-gray-700",children:[(0,b.jsx)("strong",{children:"PrecisiÃ³n:"})," ",i,"% (a tiempo / total palabras)"]}),(0,b.jsxs)("p",{className:"text-gray-700",children:[(0,b.jsx)("strong",{children:"Total palabras:"})," ",c]}),(0,b.jsxs)("p",{className:"text-gray-700",children:[(0,b.jsx)("strong",{children:"Frase:"}),' "',a,'"']})]}),H&&(0,b.jsx)("div",{className:"px-4 py-3 bg-[#FFF6ED] text-[#6B3F1D] rounded-lg font-semibold mb-4 text-center border-2 border-[#F7C873]",children:H}),(0,b.jsx)("div",{className:"flex gap-4 mb-4",children:(0,b.jsx)("button",{onClick:X,className:"flex-1 px-6 py-3 bg-[#8B5F3D] text-white rounded-lg hover:bg-[#6B3F1D] transition-colors font-bold",children:"ðŸ’¾ Guardar PuntuaciÃ³n"})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>{M(!1),r(!1),f(""),h([])},className:"flex-1 px-6 py-3 bg-[#F7C873] text-[#6B3F1D] rounded-lg hover:bg-[#e6b35a] transition-colors font-bold",children:"ðŸŽ¤ Jugar otra vez"}),(0,b.jsx)(d.default,{href:"/progreso",className:"flex-1 px-6 py-3 bg-[#6B3F1D] text-white rounded-lg hover:bg-[#56321a] transition-colors font-bold text-center",children:"ðŸ“Š Ver progreso"})]})]})})})}return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-8 mt-16 md:mt-20",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[J&&(0,b.jsx)("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-8 py-4 rounded-lg shadow-2xl z-50 animate-bounce",children:(0,b.jsx)("p",{className:"text-xl font-bold",children:"âš ï¸ Â¡Tarde! -2 puntos"})}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{className:"bg-white px-6 py-3 rounded-lg shadow-md",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Puntos"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-[#6B3F1D]",children:m})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`px-4 py-2 rounded-lg ${s?"bg-[#8B5F3D] text-white":"bg-[#6B3F1D] text-white"}`,title:s?"El micrÃ³fono detecta que estÃ¡s hablando":"El micrÃ³fono detecta silencio",children:s?"ðŸŽ¤ Hablando âœ“":"ðŸ”‡ Silencio"}),H&&(0,b.jsx)("div",{className:"px-4 py-2 bg-[#FFF6ED] text-[#6B3F1D] rounded-lg font-semibold animate-pulse border-2 border-[#F7C873]",children:H}),(0,b.jsx)("button",{onClick:X,className:"px-6 py-2 bg-[#8B5F3D] text-white rounded-lg hover:bg-[#6B3F1D] transition-colors font-semibold",children:"ðŸ’¾ Guardar"}),(0,b.jsx)("button",{onClick:()=>{V(),r(!1),M(!1),f(""),h([]),n(0),G([]),E([])},className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Terminar"})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-2xl p-12",children:(0,b.jsx)("div",{className:"flex flex-wrap justify-center gap-4 text-3xl font-bold leading-relaxed",children:g.map((a,c)=>(0,b.jsx)("span",{ref:c===i?R:null,className:`transition-all duration-300 px-4 py-2 rounded-lg ${c===i?"bg-gradient-to-r from-[#F7C873] to-[#e6b35a] text-[#6B3F1D] scale-125 shadow-lg":c<i?"text-gray-400":"text-gray-700"}`,children:a},c))})}),(0,b.jsxs)("div",{className:"mt-6 text-center text-gray-600",children:["Palabra ",i+1," de ",g.length]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_karaoke_page_tsx_b23af794._.js.map
{"version":3,"sources":["../../../../node_modules/next/src/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.tsx","../../../../node_modules/next/src/shared/lib/encode-uri-path.ts","../../../../node_modules/next/src/shared/lib/lazy-dynamic/preload-chunks.tsx","../../../../node_modules/next/src/shared/lib/lazy-dynamic/loadable.tsx","../../../../node_modules/next/src/shared/lib/app-dynamic.tsx","../../../../app/daf/page.tsx"],"sourcesContent":["'use client'\n\nimport type { ReactElement } from 'react'\nimport { BailoutToCSRError } from './bailout-to-csr'\n\ninterface BailoutToCSRProps {\n  reason: string\n  children: ReactElement\n}\n\n/**\n * If rendered on the server, this component throws an error\n * to signal Next.js that it should bail out to client-side rendering instead.\n */\nexport function BailoutToCSR({ reason, children }: BailoutToCSRProps) {\n  if (typeof window === 'undefined') {\n    throw new BailoutToCSRError(reason)\n  }\n\n  return children\n}\n","export function encodeURIPath(file: string) {\n  return file\n    .split('/')\n    .map((p) => encodeURIComponent(p))\n    .join('/')\n}\n","'use client'\n\nimport { preload } from 'react-dom'\n\nimport { workAsyncStorage } from '../../../server/app-render/work-async-storage.external'\nimport { encodeURIPath } from '../encode-uri-path'\n\nexport function PreloadChunks({\n  moduleIds,\n}: {\n  moduleIds: string[] | undefined\n}) {\n  // Early return in client compilation and only load requestStore on server side\n  if (typeof window !== 'undefined') {\n    return null\n  }\n\n  const workStore = workAsyncStorage.getStore()\n  if (workStore === undefined) {\n    return null\n  }\n\n  const allFiles = []\n\n  // Search the current dynamic call unique key id in react loadable manifest,\n  // and find the corresponding CSS files to preload\n  if (workStore.reactLoadableManifest && moduleIds) {\n    const manifest = workStore.reactLoadableManifest\n    for (const key of moduleIds) {\n      if (!manifest[key]) continue\n      const chunks = manifest[key].files\n      allFiles.push(...chunks)\n    }\n  }\n\n  if (allFiles.length === 0) {\n    return null\n  }\n\n  const dplId = process.env.NEXT_DEPLOYMENT_ID\n    ? `?dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n    : ''\n\n  return (\n    <>\n      {allFiles.map((chunk) => {\n        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}${dplId}`\n        const isCss = chunk.endsWith('.css')\n        // If it's stylesheet we use `precedence` o help hoist with React Float.\n        // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree.\n        // The `preload` for stylesheet is not optional.\n        if (isCss) {\n          return (\n            <link\n              key={chunk}\n              // @ts-ignore\n              precedence=\"dynamic\"\n              href={href}\n              rel=\"stylesheet\"\n              as=\"style\"\n              nonce={workStore.nonce}\n            />\n          )\n        } else {\n          // If it's script we use ReactDOM.preload to preload the resources\n          preload(href, {\n            as: 'script',\n            fetchPriority: 'low',\n            nonce: workStore.nonce,\n          })\n          return null\n        }\n      })}\n    </>\n  )\n}\n","import { Suspense, Fragment, lazy } from 'react'\nimport { BailoutToCSR } from './dynamic-bailout-to-csr'\nimport type { ComponentModule } from './types'\nimport { PreloadChunks } from './preload-chunks'\n\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule<P>(\n  mod: React.ComponentType<P> | ComponentModule<P> | undefined\n): {\n  default: React.ComponentType<P>\n} {\n  // Check \"default\" prop before accessing it, as it could be client reference proxy that could break it reference.\n  // Cases:\n  // mod: { default: Component }\n  // mod: Component\n  // mod: { default: proxy(Component) }\n  // mod: proxy(Component)\n  const hasDefault = mod && 'default' in mod\n  return {\n    default: hasDefault\n      ? (mod as ComponentModule<P>).default\n      : (mod as React.ComponentType<P>),\n  }\n}\n\nconst defaultOptions = {\n  loader: () => Promise.resolve(convertModule(() => null)),\n  loading: null,\n  ssr: true,\n}\n\ninterface LoadableOptions {\n  loader?: () => Promise<React.ComponentType<any> | ComponentModule<any>>\n  loading?: React.ComponentType<any> | null\n  ssr?: boolean\n  modules?: string[]\n}\n\nfunction Loadable(options: LoadableOptions) {\n  const opts = { ...defaultOptions, ...options }\n  const Lazy = lazy(() => opts.loader().then(convertModule))\n  const Loading = opts.loading\n\n  function LoadableComponent(props: any) {\n    const fallbackElement = Loading ? (\n      <Loading isLoading={true} pastDelay={true} error={null} />\n    ) : null\n\n    // If it's non-SSR or provided a loading component, wrap it in a suspense boundary\n    const hasSuspenseBoundary = !opts.ssr || !!opts.loading\n    const Wrap = hasSuspenseBoundary ? Suspense : Fragment\n    const wrapProps = hasSuspenseBoundary ? { fallback: fallbackElement } : {}\n    const children = opts.ssr ? (\n      <>\n        {/* During SSR, we need to preload the CSS from the dynamic component to avoid flash of unstyled content */}\n        {typeof window === 'undefined' ? (\n          <PreloadChunks moduleIds={opts.modules} />\n        ) : null}\n        <Lazy {...props} />\n      </>\n    ) : (\n      <BailoutToCSR reason=\"next/dynamic\">\n        <Lazy {...props} />\n      </BailoutToCSR>\n    )\n\n    return <Wrap {...wrapProps}>{children}</Wrap>\n  }\n\n  LoadableComponent.displayName = 'LoadableComponent'\n\n  return LoadableComponent\n}\n\nexport default Loadable\n","import type React from 'react'\nimport type { JSX } from 'react'\nimport Loadable from './lazy-dynamic/loadable'\n\nimport type {\n  LoadableGeneratedOptions,\n  DynamicOptionsLoadingProps,\n  Loader,\n  LoaderComponent,\n} from './lazy-dynamic/types'\n\nexport {\n  type LoadableGeneratedOptions,\n  type DynamicOptionsLoadingProps,\n  type Loader,\n  type LoaderComponent,\n}\n\nexport type DynamicOptions<P = {}> = LoadableGeneratedOptions & {\n  loading?: () => JSX.Element | null\n  loader?: Loader<P>\n  loadableGenerated?: LoadableGeneratedOptions\n  modules?: string[]\n  ssr?: boolean\n}\n\nexport type LoadableOptions<P = {}> = DynamicOptions<P>\n\nexport type LoadableFn<P = {}> = (\n  opts: LoadableOptions<P>\n) => React.ComponentType<P>\n\nexport type LoadableComponent<P = {}> = React.ComponentType<P>\n\nexport default function dynamic<P = {}>(\n  dynamicOptions: DynamicOptions<P> | Loader<P>,\n  options?: DynamicOptions<P>\n): React.ComponentType<P> {\n  const loadableOptions: LoadableOptions<P> = {}\n\n  if (typeof dynamicOptions === 'function') {\n    loadableOptions.loader = dynamicOptions\n  }\n\n  const mergedOptions = {\n    ...loadableOptions,\n    ...options,\n  }\n\n  return Loadable({\n    ...mergedOptions,\n    modules: mergedOptions.loadableGenerated?.modules,\n  })\n}\n","\"use client\";\r\nimport React, { useRef, useState, useEffect } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport WordCloud from '../../components/WordCloud';\r\n\r\nconst Spectrogram = dynamic(() => import('../visualizacion/Spectrogram'), { ssr: false });\r\n\r\nexport default function DAFPage() {\r\n  const [delayMs, setDelayMs] = useState(200);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [showSaveDialog, setShowSaveDialog] = useState(false);\r\n  const [audioName, setAudioName] = useState('');\r\n  const [audioUrl, setAudioUrl] = useState<string | null>(null);\r\n  const [transcript, setTranscript] = useState<string>('');\r\n  const [isTranscribing, setIsTranscribing] = useState(false);\r\n  const [duration, setDuration] = useState<number>(0);\r\n  const [wordCount, setWordCount] = useState<number>(0);\r\n  const [saving, setSaving] = useState(false);\r\n  const [saveMsg, setSaveMsg] = useState('');\r\n  const [playbackRate, setPlaybackRate] = useState(1.0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  \r\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\r\n  const chunksRef = useRef<Blob[]>([]);\r\n  const streamRef = useRef<MediaStream | null>(null);\r\n  const audioCtxRef = useRef<AudioContext | null>(null);\r\n  const sourceNodeRef = useRef<MediaStreamAudioSourceNode | null>(null);\r\n  const delayNodeRef = useRef<DelayNode | null>(null);\r\n  const gainNodeRef = useRef<GainNode | null>(null);\r\n  const recognitionRef = useRef<any>(null);\r\n  const mediaSourceRef = useRef<any>(null);\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const playbackCtxRef = useRef<AudioContext | null>(null);\r\n  const playbackSourceRef = useRef<any>(null);\r\n  const playbackDelayRef = useRef<DelayNode | null>(null);\r\n  const playbackGainRef = useRef<GainNode | null>(null);\r\n\r\n  const startTranscription = () => {\r\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\r\n    if (!SpeechRecognition) {\r\n      console.warn('‚ùå SpeechRecognition no disponible en este navegador');\r\n      alert('Tu navegador no soporta reconocimiento de voz. Por favor usa Chrome, Edge o Safari.');\r\n      return;\r\n    }\r\n    \r\n    if (recognitionRef.current) {\r\n      try { recognitionRef.current.stop(); } catch (e) {}\r\n    }\r\n    \r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = 'es-ES';\r\n    recognition.continuous = true;\r\n    recognition.interimResults = true;\r\n    recognition.maxAlternatives = 1;\r\n    \r\n    let finalTranscript = '';\r\n    let hasError = false;\r\n    \r\n    recognition.onstart = () => {\r\n      console.log('[DAF] Transcripci√≥n iniciada');\r\n      setIsTranscribing(true);\r\n    };\r\n    \r\n    recognition.onresult = (event: any) => {\r\n      let interimTranscript = '';\r\n      for (let i = event.resultIndex; i < event.results.length; i++) {\r\n        const text = event.results[i][0].transcript;\r\n        console.log('[DAF] Resultado:', { text, isFinal: event.results[i].isFinal });\r\n        \r\n        if (event.results[i].isFinal) {\r\n          finalTranscript += text + ' ';\r\n        } else {\r\n          interimTranscript += text;\r\n        }\r\n      }\r\n      const currentTranscript = finalTranscript + interimTranscript;\r\n      setTranscript(currentTranscript);\r\n      \r\n      // Actualizar conteo de palabras en tiempo real\r\n      const words = currentTranscript.trim().split(/\\s+/).filter(Boolean).length;\r\n      setWordCount(words);\r\n      console.log('[DAF] Transcripci√≥n actual:', { \r\n        length: currentTranscript.length, \r\n        wordCount: words,\r\n        finalTranscript,\r\n        interimTranscript\r\n      });\r\n    };\r\n    \r\n    recognition.onerror = (event: any) => {\r\n      console.error('[DAF] Error en reconocimiento de voz:', event.error);\r\n      hasError = true;\r\n      \r\n      // Manejo de errores espec√≠ficos\r\n      const errorMessages: { [key: string]: string } = {\r\n        'no-speech': '‚ùå No se detect√≥ voz. Aseg√∫rate de que tu micr√≥fono funciona y hablaste.',\r\n        'network': '‚ùå Error de red. Intenta de nuevo.',\r\n        'not-allowed': '‚ùå No se permiti√≥ el acceso al micr√≥fono.',\r\n        'service-not-allowed': '‚ùå El servicio de reconocimiento de voz no est√° disponible.',\r\n        'aborted': '‚ö†Ô∏è El reconocimiento fue interrumpido.',\r\n        'bad-grammar': '‚ö†Ô∏è Error en la configuraci√≥n del lenguaje.'\r\n      };\r\n      \r\n      const message = errorMessages[event.error] || `Error: ${event.error}`;\r\n      console.log('[DAF] Mensaje de error:', message);\r\n    };\r\n    \r\n    recognition.onend = () => {\r\n      console.log('[DAF] Transcripci√≥n finalizada');\r\n      setIsTranscribing(false);\r\n      if (!hasError && !finalTranscript.trim()) {\r\n        console.warn('[DAF] No se captur√≥ audio durante la grabaci√≥n');\r\n      }\r\n    };\r\n    \r\n    try {\r\n      recognition.start();\r\n      recognitionRef.current = recognition;\r\n      console.log('[DAF] Reconocimiento de voz iniciado');\r\n    } catch (err) {\r\n      console.error('[DAF] Error al iniciar reconocimiento:', err);\r\n      alert('Error al iniciar el reconocimiento de voz. Por favor, recarga la p√°gina e intenta de nuevo.');\r\n    }\r\n  };\r\n\r\n  const stopTranscription = () => {\r\n    if (recognitionRef.current) {\r\n      try { \r\n        recognitionRef.current.stop(); \r\n        console.log('[DAF] Reconocimiento de voz detenido');\r\n      } catch (e) {\r\n        console.warn('[DAF] Error al detener reconocimiento:', e);\r\n      }\r\n      recognitionRef.current = null;\r\n    }\r\n    setIsTranscribing(false);\r\n  };\r\n\r\n  const clearTranscription = () => {\r\n    setTranscript('');\r\n    setWordCount(0);\r\n    stopTranscription();\r\n  };\r\n\r\n\r\n  // Funciones para calcular m√©tricas de ritmo\r\n  const calculatePercentV = (text: string): number => {\r\n    if (!text) return 0;\r\n    const totalChars = text.replace(/\\s/g, '').length;\r\n    if (totalChars === 0) return 0;\r\n    const vowels = text.match(/[aeiou√°√©√≠√≥√∫√ºAEIOU√Å√â√ç√ì√ö√ú]/g) || [];\r\n    return (vowels.length / totalChars) * 100;\r\n  };\r\n\r\n  const calculateVarcoV = (text: string, durationSeconds: number): number => {\r\n    if (!text || durationSeconds === 0) return 0;\r\n    const vowels = text.match(/[aeiou√°√©√≠√≥√∫√ºAEIOU√Å√â√ç√ì√ö√ú]/g) || [];\r\n    if (vowels.length === 0) return 0;\r\n    \r\n    // Estimaci√≥n simplificada: asumimos duraci√≥n promedio por vocal\r\n    const avgDuration = (durationSeconds * 1000) / vowels.length;\r\n    const stdDev = avgDuration * 0.3; // Aproximaci√≥n\r\n    return (stdDev / avgDuration) * 100;\r\n  };\r\n\r\n  const calculatePVI = (text: string): number => {\r\n    if (!text) return 0;\r\n    const words = text.trim().split(/\\s+/).filter(Boolean);\r\n    if (words.length < 2) return 0;\r\n    \r\n    let sum = 0;\r\n    for (let i = 0; i < words.length - 1; i++) {\r\n      const len1 = words[i].length;\r\n      const len2 = words[i + 1].length;\r\n      const diff = Math.abs(len1 - len2);\r\n      const avg = (len1 + len2) / 2;\r\n      if (avg > 0) {\r\n        sum += (diff / avg) * 100;\r\n      }\r\n    }\r\n    return sum / (words.length - 1);\r\n  };\r\n\r\n  const startRecordingWithDAF = async () => {\r\n    try {\r\n      // Solicitar permiso de micr√≥fono con configuraci√≥n optimizada\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        audio: {\r\n          echoCancellation: true, // Activar para eliminar eco\r\n          noiseSuppression: true, // Reducir ruido de fondo\r\n          autoGainControl: true, // Activar para mejor control de volumen\r\n          sampleRate: 48000, // Mayor calidad de audio\r\n          channelCount: 1\r\n        } \r\n      });\r\n      streamRef.current = stream;\r\n\r\n      // Crear AudioContext con sample rate alto para mejor calidad\r\n      const audioCtx = new (window.AudioContext || (window as any).webkitAudioContext)({\r\n        sampleRate: 48000\r\n      });\r\n      audioCtxRef.current = audioCtx;\r\n\r\n      const source = audioCtx.createMediaStreamSource(stream);\r\n      const delayNode = audioCtx.createDelay(5.0);\r\n      const gainNode = audioCtx.createGain();\r\n      \r\n      sourceNodeRef.current = source;\r\n      delayNodeRef.current = delayNode;\r\n      gainNodeRef.current = gainNode;\r\n\r\n      // Configurar delay\r\n      delayNode.delayTime.value = delayMs / 1000;\r\n      gainNode.gain.value = 0.5; // Reducir volumen para minimizar eco\r\n\r\n      // Conectar: source -> delay -> gain -> destination (para escuchar en tiempo real)\r\n      source.connect(delayNode);\r\n      delayNode.connect(gainNode);\r\n      gainNode.connect(audioCtx.destination);\r\n\r\n      // Intentar usar mejor codec disponible\r\n      let mimeType = 'audio/webm;codecs=opus';\r\n      const supportedTypes = [\r\n        'audio/webm;codecs=opus',\r\n        'audio/webm',\r\n        'audio/ogg;codecs=opus',\r\n        'audio/mp4'\r\n      ];\r\n      \r\n      for (const type of supportedTypes) {\r\n        if (MediaRecorder.isTypeSupported(type)) {\r\n          mimeType = type;\r\n          console.log('[DAF] Usando codec:', mimeType);\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Para grabar, usamos directamente el stream original (sin delay)\r\n      const mediaRecorder = new MediaRecorder(stream, {\r\n        mimeType,\r\n        audioBitsPerSecond: 128000 // Mayor bitrate para mejor calidad\r\n      });\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      chunksRef.current = [];\r\n\r\n      mediaRecorder.ondataavailable = (e) => {\r\n        if (e.data && e.data.size > 0) {\r\n          chunksRef.current.push(e.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        console.log('[DAF] MediaRecorder detenido, chunks:', chunksRef.current.length);\r\n        const blob = new Blob(chunksRef.current, { type: mimeType });\r\n        console.log('[DAF] Blob creado, tama√±o:', blob.size);\r\n        const url = URL.createObjectURL(blob);\r\n        console.log('[DAF] URL creada:', url);\r\n        \r\n        // Resetear source de reproducci√≥n para el nuevo audio\r\n        playbackSourceRef.current = null;\r\n        \r\n        setAudioUrl(url);\r\n        \r\n        // Calcular duraci√≥n\r\n        const audio = new Audio(url);\r\n        audio.addEventListener('loadedmetadata', () => {\r\n          console.log('[DAF] Duraci√≥n:', audio.duration);\r\n          setDuration(audio.duration);\r\n        });\r\n      };\r\n\r\n      mediaRecorder.start();\r\n      setIsRecording(true);\r\n      console.log('[DAF] Grabaci√≥n iniciada');\r\n      \r\n      // Iniciar transcripci√≥n\r\n      startTranscription();\r\n\r\n    } catch (err) {\r\n      console.error('Error al acceder al micr√≥fono:', err);\r\n      alert('No se pudo acceder al micr√≥fono. Por favor, verifica los permisos.');\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    // Detener MediaRecorder\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n      mediaRecorderRef.current.stop();\r\n    }\r\n\r\n    // Detener transcripci√≥n\r\n    stopTranscription();\r\n\r\n    // Desconectar nodos\r\n    if (sourceNodeRef.current && delayNodeRef.current) {\r\n      try {\r\n        sourceNodeRef.current.disconnect();\r\n        delayNodeRef.current.disconnect();\r\n        if (gainNodeRef.current) gainNodeRef.current.disconnect();\r\n      } catch (e) {\r\n        console.warn('Error al desconectar nodos:', e);\r\n      }\r\n    }\r\n\r\n    // Cerrar AudioContext\r\n    if (audioCtxRef.current) {\r\n      audioCtxRef.current.close();\r\n      audioCtxRef.current = null;\r\n    }\r\n\r\n    // Detener stream\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n\r\n    setIsRecording(false);\r\n  };\r\n\r\n  const saveAudioToDatabase = async () => {\r\n    if (!audioUrl) {\r\n      setSaveMsg('No hay audio para guardar');\r\n      return;\r\n    }\r\n    \r\n    // Verificar si el usuario est√° logueado\r\n    try {\r\n      const meResponse = await fetch('/api/me', { credentials: 'include' });\r\n      \r\n      if (!meResponse.ok) {\r\n        // Usuario NO est√° logueado\r\n        alert('‚ùå Debes iniciar sesi√≥n para guardar audios en la base de datos.\\n\\nTu audio se guardar√° solo en tu navegador (localStorage). Para guardarlo en la nube, inicia sesi√≥n.');\r\n        // Guardar solo en localStorage como fallback\r\n        const record = {\r\n          id: Date.now().toString(),\r\n          date: new Date().toISOString(),\r\n          source: 'daf',\r\n          duration: duration,\r\n          wordCount: wordCount,\r\n          delay: delayMs,\r\n          transcript: transcript,\r\n          audioUrl: audioUrl // Solo URL local\r\n        };\r\n        \r\n        const stored = localStorage.getItem('audio_records');\r\n        const records = stored ? JSON.parse(stored) : [];\r\n        records.push(record);\r\n        localStorage.setItem('audio_records', JSON.stringify(records));\r\n        \r\n        setSaveMsg('‚úÖ Audio guardado localmente (Inicia sesi√≥n para guardar en la nube)');\r\n        return;\r\n      }\r\n      \r\n      // Usuario S√ç est√° logueado, continuar con el guardado en BD\r\n    } catch (err) {\r\n      alert('‚ùå No se pudo verificar tu sesi√≥n. El audio se guardar√° solo localmente.');\r\n      // Fallback a localStorage\r\n      const record = {\r\n        id: Date.now().toString(),\r\n        date: new Date().toISOString(),\r\n        source: 'daf',\r\n        duration: duration,\r\n        wordCount: wordCount,\r\n        delay: delayMs,\r\n        transcript: transcript,\r\n        audioUrl: audioUrl\r\n      };\r\n      \r\n      const stored = localStorage.getItem('audio_records');\r\n      const records = stored ? JSON.parse(stored) : [];\r\n      records.push(record);\r\n      localStorage.setItem('audio_records', JSON.stringify(records));\r\n      \r\n      setSaveMsg('‚úÖ Audio guardado localmente');\r\n      return;\r\n    }\r\n    \r\n    // Preguntar nombre del archivo\r\n    const today = new Date();\r\n    const defaultName = `DAF_${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}_${String(today.getHours()).padStart(2, '0')}h${String(today.getMinutes()).padStart(2, '0')}`;\r\n    const fileName = prompt('¬øQu√© nombre quieres darle al audio?', defaultName);\r\n    \r\n    if (fileName === null) return; // Usuario cancel√≥\r\n    \r\n    const finalName = fileName.trim() || defaultName;\r\n    \r\n    setSaving(true);\r\n    setSaveMsg('Guardando audio...');\r\n    \r\n    try {\r\n      const blob = await fetch(audioUrl).then(r => r.blob());\r\n      const formData = new FormData();\r\n      formData.append('file', blob, `${finalName}.webm`);\r\n      \r\n      // Agregar metadatos importantes\r\n      formData.append('source', 'daf');\r\n      formData.append('duration', duration.toString());\r\n      formData.append('wordCount', wordCount.toString());\r\n      formData.append('transcript', transcript);\r\n      formData.append('delay', delayMs.toString());\r\n      formData.append('playbackRate', playbackRate.toString());\r\n      \r\n      console.log('[DAF] Intentando guardar audio:', finalName, 'Tama√±o:', blob.size);\r\n      console.log('[DAF] Metadatos:', { duration, wordCount, transcript: transcript.substring(0, 50), delayMs });\r\n      \r\n      const response = await fetch('/api/upload-to-supabase', { \r\n        method: 'POST', \r\n        body: formData,\r\n        credentials: 'include'\r\n      });\r\n      \r\n      const responseData = await response.json();\r\n      console.log('[DAF] Respuesta del servidor:', responseData);\r\n      \r\n      if (response.ok && responseData.ok) {\r\n        setSaveMsg('‚úÖ ¬°Audio guardado exitosamente en la base de datos!');\r\n        \r\n        // Guardar tambi√©n el registro localmente\r\n        const record = {\r\n          id: responseData.id,\r\n          date: new Date().toISOString(),\r\n          source: 'daf',\r\n          duration: duration,\r\n          wordCount: wordCount,\r\n          delay: delayMs,\r\n          transcript: transcript,\r\n          audioUrl: responseData.publicUrl\r\n        };\r\n        \r\n        const stored = localStorage.getItem('audio_records');\r\n        const records = stored ? JSON.parse(stored) : [];\r\n        records.push(record);\r\n        localStorage.setItem('audio_records', JSON.stringify(records));\r\n        \r\n        console.log('[DAF] Registro guardado localmente tambi√©n');\r\n      } else {\r\n        setSaveMsg('‚ùå Error al guardar: ' + (responseData.error || 'Error desconocido'));\r\n      }\r\n    } catch (error) {\r\n      console.error('[DAF] Error al guardar:', error);\r\n      setSaveMsg('‚ùå Error de conexi√≥n al guardar en base de datos');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const saveScoreToDatabase = async () => {\r\n    if (!transcript || wordCount === 0) {\r\n      alert('‚ùå No hay datos para guardar. Primero graba una sesi√≥n con DAF.');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Calcular una puntuaci√≥n basada en m√©tricas de fluidez\r\n      const metricsScore = Math.round(\r\n        (wordCount * 10) + // M√°s palabras = m√°s puntos\r\n        (duration > 0 ? (wordCount / duration * 60) * 5 : 0) // Palabras por minuto\r\n      );\r\n      \r\n      const gameData = {\r\n        game: 'daf-fluency',\r\n        score: metricsScore,\r\n        attempts: 1,\r\n        metadata: {\r\n          duration,\r\n          wordCount,\r\n          delayMs,\r\n          playbackRate,\r\n          wordsPerMinute: duration > 0 ? (wordCount / duration * 60) : 0,\r\n          transcriptLength: transcript.length\r\n        },\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      \r\n      // Verificar autenticaci√≥n\r\n      const meResponse = await fetch('/api/me', { credentials: 'include' });\r\n      const isAuthenticated = meResponse.ok;\r\n      \r\n      // Guardar en localStorage siempre\r\n      const stored = localStorage.getItem('game_scores');\r\n      const scores = stored ? JSON.parse(stored) : [];\r\n      scores.push({...gameData, id: Date.now().toString()});\r\n      localStorage.setItem('game_scores', JSON.stringify(scores));\r\n      \r\n      if (isAuthenticated) {\r\n        // Intentar guardar en la nube\r\n        const response = await fetch('/api/save-score', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          credentials: 'include',\r\n          body: JSON.stringify(gameData)\r\n        });\r\n        \r\n        if (response.ok) {\r\n          alert('‚úÖ ¬°Puntuaci√≥n guardada exitosamente en la base de datos!');\r\n        } else {\r\n          const errorData = await response.json().catch(() => ({}));\r\n          alert(`‚ö†Ô∏è Error: ${errorData.error || 'Desconocido'}. Puntuaci√≥n guardada localmente.`);\r\n        }\r\n      } else {\r\n        alert('üíæ Puntuaci√≥n guardada localmente (Inicia sesi√≥n para guardar en la base de datos)');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error guardando puntuaci√≥n:', err);\r\n      alert('üíæ Puntuaci√≥n guardada localmente');\r\n    }\r\n  };\r\n\r\n  const playAudioWithDelay = async () => {\r\n    if (!audioUrl || !audioRef.current) {\r\n      console.log('[DAF] No hay audio o referencia', { audioUrl, hasRef: !!audioRef.current });\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      console.log('[DAF] Iniciando reproducci√≥n de audio', { \r\n        readyState: audioRef.current.readyState,\r\n        currentTime: audioRef.current.currentTime,\r\n        playbackRate \r\n      });\r\n\r\n      // Asegurar que el contexto de audio est√© activo (resume si est√° suspendido)\r\n      if (playbackCtxRef.current && playbackCtxRef.current.state === 'suspended') {\r\n        try {\r\n          await playbackCtxRef.current.resume();\r\n          console.log('[DAF] Contexto de audio reanudado');\r\n        } catch (e) {\r\n          console.warn('[DAF] Error al reanudar contexto:', e);\r\n        }\r\n      }\r\n      \r\n      // Resetear la posici√≥n\r\n      audioRef.current.currentTime = 0;\r\n      \r\n      // Configurar velocidad de reproducci√≥n\r\n      audioRef.current.playbackRate = playbackRate;\r\n      \r\n      // Asegurarse de que el audio est√© listo (readyState >= 2 = HAVE_CURRENT_DATA)\r\n      if (audioRef.current.readyState >= 2) {\r\n        const playPromise = audioRef.current.play();\r\n        if (playPromise !== undefined) {\r\n          await playPromise;\r\n          setIsPlaying(true);\r\n          console.log('[DAF] Reproducci√≥n iniciada correctamente');\r\n        }\r\n      } else {\r\n        console.log('[DAF] Audio no est√° listo, esperando...');\r\n        // Esperar a que el audio est√© listo\r\n        const handleCanPlay = async () => {\r\n          try {\r\n            console.log('[DAF] Audio est√° listo (canplay), iniciando reproducci√≥n');\r\n            const playPromise = audioRef.current!.play();\r\n            if (playPromise !== undefined) {\r\n              await playPromise;\r\n              setIsPlaying(true);\r\n            }\r\n          } catch (err) {\r\n            console.error('[DAF] Error al reproducir despu√©s de cargar:', err);\r\n          }\r\n          audioRef.current?.removeEventListener('canplay', handleCanPlay);\r\n        };\r\n        \r\n        audioRef.current.addEventListener('canplay', handleCanPlay, { once: true });\r\n        \r\n        // Timeout de seguridad\r\n        setTimeout(() => {\r\n          audioRef.current?.removeEventListener('canplay', handleCanPlay);\r\n        }, 5000);\r\n      }\r\n    } catch (err) {\r\n      console.error('[DAF] Error en playAudioWithDelay:', err);\r\n      alert('Error al reproducir audio. Por favor, intenta de nuevo.');\r\n    }\r\n  };\r\n\r\n  const pauseAudio = () => {\r\n    if (audioRef.current) {\r\n      audioRef.current.pause();\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const onDelayChange = (value: number) => {\r\n    setDelayMs(value);\r\n    // Actualizar delay durante grabaci√≥n\r\n    if (delayNodeRef.current) {\r\n      delayNodeRef.current.delayTime.value = value / 1000;\r\n    }\r\n    // Actualizar delay durante reproducci√≥n\r\n    if (playbackDelayRef.current) {\r\n      playbackDelayRef.current.delayTime.value = value / 1000;\r\n    }\r\n  };\r\n\r\n  const onPlaybackRateChange = (value: number) => {\r\n    setPlaybackRate(value);\r\n    // Actualizar velocidad en el reproductor de audio si existe\r\n    if (audioRef.current) {\r\n      audioRef.current.playbackRate = value;\r\n    }\r\n  };\r\n\r\n  // Sincronizar eventos del elemento <audio> para asegurar pausa y progreso correctos\r\n  useEffect(() => {\r\n    const el = audioRef.current;\r\n    if (!el) return;\r\n    const handleEnded = () => setIsPlaying(false);\r\n    const handlePause = () => setIsPlaying(false);\r\n    const handlePlay = () => setIsPlaying(true);\r\n    // asegurar tasa de reproducci√≥n al cargar fuente\r\n    const handleLoaded = () => { el.playbackRate = playbackRate; };\r\n    el.addEventListener('ended', handleEnded);\r\n    el.addEventListener('pause', handlePause);\r\n    el.addEventListener('play', handlePlay);\r\n    el.addEventListener('loadedmetadata', handleLoaded);\r\n    return () => {\r\n      el.removeEventListener('ended', handleEnded);\r\n      el.removeEventListener('pause', handlePause);\r\n      el.removeEventListener('play', handlePlay);\r\n      el.removeEventListener('loadedmetadata', handleLoaded);\r\n    };\r\n  }, [audioUrl, playbackRate]);\r\n\r\n  // Resetear source de reproducci√≥n cuando cambia el audio\r\n  // NOTA: Esto se hace ahora en onstop para evitar condiciones de carrera\r\n  // Eliminamos el efecto que causaba problemas\r\n  /*\r\n  useEffect(() => {\r\n    playbackSourceRef.current = null;\r\n  }, [audioUrl]);\r\n  */\r\n\r\n  // Limpiar al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      stopTranscription();\r\n      \r\n      if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n        mediaRecorderRef.current.stop();\r\n      }\r\n      \r\n      if (audioCtxRef.current) {\r\n        try {\r\n          if (sourceNodeRef.current) sourceNodeRef.current.disconnect();\r\n          if (delayNodeRef.current) delayNodeRef.current.disconnect();\r\n          if (gainNodeRef.current) gainNodeRef.current.disconnect();\r\n          audioCtxRef.current.close();\r\n        } catch (e) {}\r\n      }\r\n\r\n      if (playbackCtxRef.current) {\r\n        try {\r\n          playbackCtxRef.current.close();\r\n        } catch (e) {}\r\n      }\r\n      \r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach(t => t.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6 mt-16 md:mt-20\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-[#6B3F1D]\">DAF (Delayed Auditory Feedback)</h2>\r\n      \r\n      {/* Layout de 2 columnas */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-[40%_60%] gap-6\">\r\n        \r\n        {/* Columna izquierda - Controles e informaci√≥n */}\r\n        <div className=\"space-y-6\">\r\n          \r\n          {/* Control de delay */}\r\n          <div className=\"p-4 bg-white rounded-lg border-2 border-[#F7C873] shadow-lg\">\r\n            <label className=\"block mb-2 font-semibold text-gray-700\">\r\n              Retardo de audio: <span className=\"text-[#6B3F1D] text-xl\">{delayMs} ms</span>\r\n            </label>\r\n            <input \r\n              type=\"range\" \r\n              min={0} \r\n              max={1000} \r\n              step={1}\r\n              value={delayMs} \r\n              onChange={(e) => onDelayChange(Number(e.target.value))}\r\n              className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#6B3F1D]\"\r\n            />\r\n            <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n              <span>0 ms</span>\r\n              <span>500 ms</span>\r\n              <span>1000 ms</span>\r\n            </div>\r\n            <div className=\"mt-3 p-3 bg-amber-50 rounded-lg border border-[#F7C873]\">\r\n              <p className=\"text-sm text-[#6B3F1D]\">\r\n                <strong>üí° Recomendado:</strong> 50-200ms es el rango m√°s efectivo para la mayor√≠a de personas.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Control de velocidad de reproducci√≥n */}\r\n          {audioUrl && !isRecording && (\r\n            <div className=\"p-4 bg-white rounded-lg border-2 border-[#F7C873] shadow-lg\">\r\n              <label className=\"block mb-2 font-semibold text-gray-700\">\r\n                Velocidad de reproducci√≥n: <span className=\"text-[#6B3F1D] text-xl\">{playbackRate.toFixed(2)}x</span>\r\n              </label>\r\n              <input \r\n                type=\"range\" \r\n                min={0.5} \r\n                max={2.0} \r\n                step={0.1}\r\n                value={playbackRate} \r\n                onChange={(e) => onPlaybackRateChange(Number(e.target.value))}\r\n                className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#6B3F1D]\"\r\n              />\r\n              <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                <span>0.5x (Lento)</span>\r\n                <span>1x (Normal)</span>\r\n                <span>2x (R√°pido)</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Botones de control */}\r\n          <div className=\"flex gap-3 flex-wrap\">\r\n            {!isRecording ? (\r\n              <button \r\n                className=\"flex-1 px-6 py-3 rounded-lg bg-[#6B3F1D] text-white hover:bg-[#8B5F3D] font-semibold shadow-md transition-colors\" \r\n                onClick={startRecordingWithDAF}\r\n              >\r\n                üéôÔ∏è Grabar con DAF\r\n              </button>\r\n            ) : (\r\n              <button \r\n                className=\"flex-1 px-6 py-3 rounded-lg bg-red-500 text-white hover:bg-red-600 font-semibold shadow-md transition-colors\" \r\n                onClick={stopRecording}\r\n              >\r\n                ‚èπ Detener Grabaci√≥n\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Informaci√≥n del DAF con imagen explicativa */}\r\n          <div className=\"p-6 border-2 rounded-lg bg-gradient-to-br from-amber-50 to-orange-100 border-[#F7C873]\">\r\n            <p className=\"mb-3 font-bold text-[#6B3F1D] text-xl\">üìñ ¬øQu√© es el DAF?</p>\r\n            \r\n            <p className=\"text-sm text-gray-700 mb-4 text-justify leading-relaxed\">\r\n              <strong>DAF (Delayed Auditory Feedback)</strong> es una t√©cnica que devuelve tu voz con un peque√±o \r\n              retraso de tiempo (50-200ms). Este efecto ayuda a personas con disfluencias a mejorar su fluidez \r\n              del habla, reducir el ritmo, controlar las pausas y disminuir los bloqueos iniciales.\r\n            </p>\r\n\r\n            <div className=\"mb-4 bg-white p-4 rounded-lg border-2 border-[#F7C873]\">\r\n              <p className=\"text-sm font-semibold text-[#6B3F1D] mb-3\">¬øC√≥mo funciona?</p>\r\n              <div className=\"grid grid-cols-3 gap-4 text-center text-xs\">\r\n                <div>\r\n                  <div className=\"text-4xl mb-2\">üé§</div>\r\n                  <p className=\"font-bold text-[#6B3F1D]\">Hablas</p>\r\n                  <p className=\"text-gray-600\">Tu voz entra por el micr√≥fono</p>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-4xl mb-2\">‚è±Ô∏è</div>\r\n                  <p className=\"font-bold text-[#6B3F1D]\">Retraso</p>\r\n                  <p className=\"text-gray-600\">Se a√±ade un delay de 50-200ms</p>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-4xl mb-2\">üéß</div>\r\n                  <p className=\"font-bold text-[#6B3F1D]\">Escuchas</p>\r\n                  <p className=\"text-gray-600\">Tu voz retrasada en tiempo real</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <p className=\"mb-2 font-semibold text-[#6B3F1D]\">Pasos r√°pidos:</p>\r\n            <ol className=\"list-decimal list-inside text-sm text-gray-700 space-y-1 leading-relaxed\">\r\n              <li>Ajusta el retardo con el control deslizante (recomendado: 150-200 ms)</li>\r\n              <li>Haz clic en \"üéôÔ∏è Grabar con DAF\" para escuchar tu voz mientras grabas</li>\r\n              <li>Habla con naturalidad y observa c√≥mo el retardo afecta tu fluidez</li>\r\n              <li>Det√©n la grabaci√≥n y reproduce el audio para evaluar tu progreso</li>\r\n            </ol>\r\n          </div>\r\n\r\n          {/* M√©tricas de transcripci√≥n */}\r\n          {transcript && (\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div className=\"bg-[#FFF6ED] p-3 rounded-lg border-2 border-[#F7C873] shadow\">\r\n                <div className=\"text-xs text-gray-600\">Palabras detectadas</div>\r\n                <div className=\"text-2xl font-bold text-[#6B3F1D]\">\r\n                  {transcript.trim().split(/\\s+/).filter(Boolean).length}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-[#FFF6ED] p-3 rounded-lg border-2 border-[#F7C873] shadow\">\r\n                <div className=\"text-xs text-gray-600\">Caracteres</div>\r\n                <div className=\"text-2xl font-bold text-[#8B5F3D]\">\r\n                  {transcript.length}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Columna derecha - Visualizaciones */}\r\n        <div className=\"space-y-6\">\r\n          \r\n          {/* Transcripci√≥n en tiempo real */}\r\n          {(isRecording || transcript) && (\r\n            <div className=\"p-4 border-2 rounded-lg bg-white shadow-lg border-[#F7C873]\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h3 className=\"text-lg font-semibold text-[#6B3F1D]\">üìù Transcripci√≥n en Tiempo Real</h3>\r\n                {isTranscribing && (\r\n                  <span className=\"flex items-center text-sm text-[#8B5F3D]\">\r\n                    <span className=\"animate-pulse mr-2 w-3 h-3 bg-[#8B5F3D] rounded-full\"></span>\r\n                    Escuchando...\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-50 p-4 rounded border min-h-[100px] max-h-[250px] overflow-y-auto\">\r\n                {transcript ? (\r\n                  <p className=\"text-gray-800 leading-relaxed\">{transcript}</p>\r\n                ) : (\r\n                  <p className=\"text-gray-400 italic\">\r\n                    {isRecording ? 'Esperando que empieces a hablar...' : 'No hay transcripci√≥n disponible'}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {transcript && (\r\n                <button\r\n                  onClick={clearTranscription}\r\n                  className=\"mt-3 text-sm text-red-600 hover:text-red-800 underline\"\r\n                >\r\n                  Borrar transcripci√≥n\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Audio grabado */}\r\n          {audioUrl && !isRecording && (\r\n            <div className=\"p-4 border-2 rounded-lg shadow-lg bg-gradient-to-br from-green-50 to-emerald-50 border-green-300\">\r\n              <h3 className=\"text-lg font-semibold text-[#6B3F1D] mb-3\">üéß Audio Grabado</h3>\r\n              \r\n              {/* Reproductor de audio con mejor visibilidad */}\r\n              <div className=\"bg-white p-4 rounded-lg border-2 border-[#6B3F1D] shadow-md mb-4\">\r\n                <audio \r\n                  key={audioUrl} \r\n                  ref={audioRef} \r\n                  controls \r\n                  src={audioUrl} \r\n                  className=\"w-full\"\r\n                  style={{\r\n                    filter: 'contrast(1.2) saturate(1.3)',\r\n                    accentColor: '#6B3F1D'\r\n                  }}\r\n                  preload=\"metadata\"\r\n                />\r\n              </div>\r\n              \r\n              {duration > 0 && (\r\n                <div className=\"mb-4 p-3 bg-white rounded-lg border shadow-sm\">\r\n                  <div className=\"grid grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <div className=\"text-xs text-gray-600\">Duraci√≥n</div>\r\n                      <div className=\"text-xl font-bold text-[#6B3F1D]\">{duration.toFixed(2)}s</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-gray-600\">Retardo aplicado</div>\r\n                      <div className=\"text-xl font-bold text-[#6B3F1D]\">{delayMs}ms</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-gray-600\">Palabras</div>\r\n                      <div className=\"text-xl font-bold text-[#6B3F1D]\">{wordCount}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex gap-3 mb-3\">\r\n                <button\r\n                  onClick={isPlaying ? pauseAudio : playAudioWithDelay}\r\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-[#6B3F1D] text-white hover:bg-[#8B5F3D] font-semibold transition-colors shadow-md\"\r\n                >\r\n                  {isPlaying ? '‚è∏Ô∏è Pausar' : '‚ñ∂Ô∏è Reproducir'}\r\n                </button>\r\n                <button\r\n                  onClick={saveAudioToDatabase}\r\n                  disabled={saving}\r\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-[#8B5F3D] text-white hover:bg-[#6B3F1D] disabled:bg-gray-400 font-semibold transition-colors shadow-md\"\r\n                >\r\n                  {saving ? 'Guardando...' : 'üíæ Guardar Audio'}\r\n                </button>\r\n              </div>\r\n              \r\n              {saveMsg && (\r\n                <p className={`mt-2 text-sm ${saveMsg.includes('Error') ? 'text-red-600' : 'text-green-700'}`}>\r\n                  {saveMsg}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Espectrograma */}\r\n          {(audioUrl || isRecording) && (\r\n            <div className=\"p-4 bg-white rounded-lg border-2 border-[#F7C873] shadow-lg\">\r\n              <h3 className=\"text-lg font-bold text-[#6B3F1D] mb-3\">üé® Espectrograma</h3>\r\n              <Spectrogram \r\n                audioUrl={audioUrl} \r\n                stream={isRecording ? streamRef.current : null}\r\n                isLive={isRecording}\r\n                audioCtxRef={isRecording ? audioCtxRef : playbackCtxRef} \r\n                mediaSourceRef={isRecording ? mediaSourceRef : playbackSourceRef}\r\n                audioRef={audioRef}\r\n              />\r\n              <p className=\"text-xs text-gray-600 mt-3 text-justify\">\r\n                üí° <strong>C√≥mo leer el espectrograma:</strong> El eje horizontal muestra el tiempo (segundos), \r\n                el eje vertical muestra la frecuencia (Hz). Los <strong>colores</strong> representan la intensidad \r\n                de energ√≠a: <span className=\"text-blue-600\">azul</span> = baja intensidad, \r\n                <span className=\"text-yellow-600\">verde-amarillo</span> = intensidad media, \r\n                <span className=\"text-orange-600\">naranja</span> = alta intensidad (m√°s intenso).\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* WordCloud - ahora visible en columna derecha */}\r\n          {transcript && transcript.trim().split(/\\s+/).filter(Boolean).length > 3 && (\r\n            <div className=\"p-4 border-2 rounded-lg bg-white shadow-lg border-[#F7C873]\">\r\n              <h3 className=\"text-lg font-semibold text-[#6B3F1D] mb-3\">‚òÅÔ∏è Nube de Palabras</h3>\r\n              <WordCloud transcript={transcript} maxWords={30} />\r\n              <p className=\"text-xs text-gray-600 mt-3 text-justify\">\r\n                La nube de palabras muestra las palabras m√°s utilizadas durante tu grabaci√≥n. \r\n                El tama√±o de cada palabra es proporcional a la frecuencia con la que la pronunciaste.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* M√©tricas de Ritmo y Fluidez */}\r\n          {transcript && duration > 0 && (\r\n            <div className=\"p-4 border-2 border-[#8B5F3D] rounded-lg bg-gradient-to-br from-[#FFF6ED] to-[#F7C873] shadow-sm\">\r\n              <h3 className=\"text-base font-bold text-[#6B3F1D] mb-2 flex items-center gap-2\">\r\n                üìà M√©tricas de Ritmo y Fluidez\r\n              </h3>\r\n              <p className=\"text-xs text-gray-700 mb-3\">\r\n                Estas m√©tricas ayudan a evaluar el ritmo del habla y las caracter√≠sticas pros√≥dicas:\r\n              </p>\r\n\r\n              {/* Nota informativa sobre rangos normales */}\r\n              <div className=\"mb-4 p-3 bg-white border-l-4 border-[#6B3F1D] rounded\">\r\n                <h4 className=\"font-bold text-[#6B3F1D] text-xs mb-1 flex items-center gap-1\">\r\n                  <span>üìä</span> Rangos normales\r\n                </h4>\r\n                <div className=\"text-xs text-gray-700 space-y-0.5\">\r\n                  <p><strong>PPM:</strong> 125-175 palabras/minuto (conversaci√≥n normal)</p>\r\n                  <p><strong>PVI:</strong> Var√≠a seg√∫n idioma; valores altos = mayor variaci√≥n r√≠tmica</p>\r\n                  <p><strong>VarcoV:</strong> Mayor variabilidad = ritmo m√°s variable</p>\r\n                  <p><strong>%V:</strong> ~40-45% es t√≠pico en espa√±ol</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"bg-white p-3 rounded-lg border border-[#8B5F3D]\">\r\n                  <div className=\"flex justify-between items-center mb-1\">\r\n                    <h4 className=\"font-bold text-sm text-[#6B3F1D]\">PVI - √çndice de Variaci√≥n de Pares</h4>\r\n                    <span className=\"text-lg font-bold text-[#8B5F3D]\">\r\n                      {calculatePVI(transcript).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-700\">\r\n                    Mide la variabilidad en la longitud de palabras consecutivas. \r\n                    Valores altos (&gt;50%) indican ritmo m√°s marcado por acentos, mientras que valores bajos sugieren ritmo m√°s uniforme.\r\n                  </p>\r\n                </div>\r\n                \r\n                <div className=\"bg-white p-3 rounded-lg border border-[#8B5F3D]\">\r\n                  <div className=\"flex justify-between items-center mb-1\">\r\n                    <h4 className=\"font-bold text-sm text-[#6B3F1D]\">VarcoV - Coeficiente de Variaci√≥n Voc√°lica</h4>\r\n                    <span className=\"text-lg font-bold text-[#8B5F3D]\">\r\n                      {calculateVarcoV(transcript, duration).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-700\">\r\n                    Coeficiente de variaci√≥n normalizado de las duraciones voc√°licas. \r\n                    Valores altos (&gt;40%) indican mayor variabilidad en la pronunciaci√≥n de vocales, lo cual es t√≠pico de lenguas con ritmo acentual.\r\n                  </p>\r\n                </div>\r\n                \r\n                <div className=\"bg-white p-3 rounded-lg border border-[#8B5F3D]\">\r\n                  <div className=\"flex justify-between items-center mb-1\">\r\n                    <h4 className=\"font-bold text-sm text-[#6B3F1D]\">%V - Porcentaje Voc√°lico</h4>\r\n                    <span className=\"text-lg font-bold text-[#8B5F3D]\">\r\n                      {calculatePercentV(transcript).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-700\">\r\n                    Porcentaje de vocales en el texto total (sin contar espacios). \r\n                    El espa√±ol t√≠picamente tiene entre 40-50% de vocales. Valores m√°s altos pueden indicar pronunciaci√≥n m√°s clara y abierta.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["BailoutToCSR","reason","children","window","BailoutToCSRError","encodeURIPath","file","split","map","p","encodeURIComponent","join","PreloadChunks","moduleIds","workStore","workAsyncStorage","getStore","undefined","allFiles","reactLoadableManifest","manifest","key","chunks","files","push","length","dplId","process","env","NEXT_DEPLOYMENT_ID","chunk","href","assetPrefix","isCss","endsWith","link","precedence","rel","as","nonce","preload","fetchPriority","convertModule","mod","hasDefault","default","defaultOptions","loader","Promise","resolve","loading","ssr","Loadable","options","opts","Lazy","lazy","then","Loading","LoadableComponent","props","fallbackElement","isLoading","pastDelay","error","hasSuspenseBoundary","Wrap","Suspense","Fragment","wrapProps","fallback","modules","displayName","dynamic","dynamicOptions","loadableOptions","mergedOptions","loadableGenerated"],"mappings":"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","ignoreList":[0,1,2,3,4]}
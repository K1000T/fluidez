{"version":3,"sources":["../../../../app/juego-fonema/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\n\r\nconst FONEMAS = ['B', 'C', 'D', 'F', 'G', 'J', 'L', 'M', 'N', '√ë', 'P', 'R', 'S', 'T', 'CH', 'LL', 'V', 'Z', 'K', 'Q', 'Y', 'W', 'X'];\r\n\r\nexport default function JuegoFonemaInicial() {\r\n  const [currentFonema, setCurrentFonema] = useState('');\r\n  const [score, setScore] = useState(0);\r\n  const [attempts, setAttempts] = useState(0);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [feedback, setFeedback] = useState('');\r\n  const [recognizedWord, setRecognizedWord] = useState('');\r\n  const [gameStarted, setGameStarted] = useState(false);\r\n  const [saveMessage, setSaveMessage] = useState('');\r\n  const recognitionRef = useState<any>(null)[0];\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (recognitionRef) {\r\n        try { recognitionRef.stop(); } catch (e) {}\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const startGame = () => {\r\n    setScore(0);\r\n    setAttempts(0);\r\n    setGameStarted(true);\r\n    setSaveMessage('');\r\n    nextFonema();\r\n  };\r\n\r\n  const nextFonema = () => {\r\n    const randomFonema = FONEMAS[Math.floor(Math.random() * FONEMAS.length)];\r\n    setCurrentFonema(randomFonema);\r\n    setFeedback('');\r\n    setRecognizedWord('');\r\n    setIsListening(false);\r\n  };\r\n\r\n  const startListening = () => {\r\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\r\n    if (!SpeechRecognition) {\r\n      setFeedback('‚ùå Tu navegador no soporta reconocimiento de voz');\r\n      return;\r\n    }\r\n\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = 'es-ES';\r\n    recognition.continuous = false;\r\n    recognition.interimResults = false;\r\n\r\n    recognition.onstart = () => {\r\n      setIsListening(true);\r\n      setFeedback('üé§ Escuchando...');\r\n    };\r\n\r\n    recognition.onresult = (event: any) => {\r\n      const word = event.results[0][0].transcript.trim().toLowerCase();\r\n      if (!word) {\r\n        setFeedback('‚ùå No se detect√≥ ninguna palabra');\r\n        setIsListening(false);\r\n        return;\r\n      }\r\n      setRecognizedWord(word);\r\n      checkWord(word);\r\n    };\r\n\r\n    recognition.onerror = () => {\r\n      setFeedback('‚ùå Error al escuchar. Intenta de nuevo.');\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    try {\r\n      recognition.start();\r\n    } catch (err) {\r\n      setFeedback('‚ùå Error al iniciar reconocimiento');\r\n    }\r\n  };\r\n\r\n  const checkWord = (word: string) => {\r\n    const wordUpper = word.toUpperCase();\r\n    const fonemaLower = currentFonema.toLowerCase();\r\n    \r\n    setAttempts(attempts + 1);\r\n    \r\n    // Verificar si la palabra contiene el fonema en cualquier posici√≥n\r\n    let isCorrect = false;\r\n    let position = ''; // 'inicio', 'medio', 'final'\r\n    \r\n    // Funci√≥n auxiliar para determinar la posici√≥n\r\n    const getPosition = (index: number, length: number): string => {\r\n      if (index === 0) return 'inicio';\r\n      if (index >= length - currentFonema.length) return 'final';\r\n      return 'medio';\r\n    };\r\n    \r\n    if (currentFonema === 'C' && (wordUpper.includes('C') || wordUpper.includes('QU') || wordUpper.includes('K'))) {\r\n      isCorrect = true;\r\n      const indexC = wordUpper.indexOf('C');\r\n      const indexQU = wordUpper.indexOf('QU');\r\n      const indexK = wordUpper.indexOf('K');\r\n      const firstIndex = Math.min(\r\n        indexC >= 0 ? indexC : Infinity,\r\n        indexQU >= 0 ? indexQU : Infinity,\r\n        indexK >= 0 ? indexK : Infinity\r\n      );\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'B' && (wordUpper.includes('B') || wordUpper.includes('V'))) {\r\n      isCorrect = true;\r\n      const indexB = wordUpper.indexOf('B');\r\n      const indexV = wordUpper.indexOf('V');\r\n      const firstIndex = Math.min(indexB >= 0 ? indexB : Infinity, indexV >= 0 ? indexV : Infinity);\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'V' && (wordUpper.includes('B') || wordUpper.includes('V'))) {\r\n      isCorrect = true;\r\n      const indexB = wordUpper.indexOf('B');\r\n      const indexV = wordUpper.indexOf('V');\r\n      const firstIndex = Math.min(indexB >= 0 ? indexB : Infinity, indexV >= 0 ? indexV : Infinity);\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'J' && (wordUpper.includes('J') || wordUpper.includes('G'))) {\r\n      isCorrect = true;\r\n      const indexJ = wordUpper.indexOf('J');\r\n      const indexG = wordUpper.indexOf('G');\r\n      const firstIndex = Math.min(indexJ >= 0 ? indexJ : Infinity, indexG >= 0 ? indexG : Infinity);\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'CH' && wordUpper.includes('CH')) {\r\n      isCorrect = true;\r\n      position = getPosition(wordUpper.indexOf('CH'), wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'LL' && wordUpper.includes('LL')) {\r\n      isCorrect = true;\r\n      position = getPosition(wordUpper.indexOf('LL'), wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'Q' && (wordUpper.includes('QU') || wordUpper.includes('Q'))) {\r\n      isCorrect = true;\r\n      const indexQU = wordUpper.indexOf('QU');\r\n      const indexQ = wordUpper.indexOf('Q');\r\n      const firstIndex = Math.min(indexQU >= 0 ? indexQU : Infinity, indexQ >= 0 ? indexQ : Infinity);\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'K' && (wordUpper.includes('K') || wordUpper.includes('C') || wordUpper.includes('QU'))) {\r\n      isCorrect = true;\r\n      const indexK = wordUpper.indexOf('K');\r\n      const indexC = wordUpper.indexOf('C');\r\n      const indexQU = wordUpper.indexOf('QU');\r\n      const firstIndex = Math.min(\r\n        indexK >= 0 ? indexK : Infinity,\r\n        indexC >= 0 ? indexC : Infinity,\r\n        indexQU >= 0 ? indexQU : Infinity\r\n      );\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === 'Z' && (wordUpper.includes('Z') || wordUpper.includes('C'))) {\r\n      isCorrect = true;\r\n      const indexZ = wordUpper.indexOf('Z');\r\n      const indexC = wordUpper.indexOf('C');\r\n      const firstIndex = Math.min(indexZ >= 0 ? indexZ : Infinity, indexC >= 0 ? indexC : Infinity);\r\n      position = getPosition(firstIndex, wordUpper.length);\r\n    }\r\n    else if (currentFonema === '√ë' && wordUpper.includes('√ë')) {\r\n      isCorrect = true;\r\n      position = getPosition(wordUpper.indexOf('√ë'), wordUpper.length);\r\n    }\r\n    else if (wordUpper.includes(currentFonema)) {\r\n      isCorrect = true;\r\n      position = getPosition(wordUpper.indexOf(currentFonema), wordUpper.length);\r\n    }\r\n    \r\n    if (isCorrect) {\r\n      setScore(score + 10);\r\n      let positionText = '';\r\n      if (position === 'inicio') {\r\n        positionText = 'al inicio';\r\n      } else if (position === 'medio') {\r\n        positionText = 'en el medio';\r\n      } else if (position === 'final') {\r\n        positionText = 'al final';\r\n      }\r\n      setFeedback(`‚úÖ ¬°Correcto! El fonema /${fonemaLower}/ est√° ${positionText} de \"${word}\"`);\r\n      setTimeout(() => nextFonema(), 2000);\r\n    } else {\r\n      setFeedback(`‚ùå \"${word}\" no contiene el fonema /${fonemaLower}/. Intenta otra palabra.`);\r\n    }\r\n  };\r\n\r\n  const saveScore = async () => {\r\n    setSaveMessage('Guardando...');\r\n    try {\r\n      // Verificar si hay usuario autenticado\r\n      const meResponse = await fetch('/api/me', { credentials: 'include' });\r\n      const isAuthenticated = meResponse.ok;\r\n\r\n      if (isAuthenticated) {\r\n        // Usuario registrado: intentar guardar en la nube\r\n        const response = await fetch('/api/save-score', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          credentials: 'include',\r\n          body: JSON.stringify({\r\n            game: 'fonema-inicial',\r\n            score,\r\n            attempts,\r\n            timestamp: new Date().toISOString()\r\n          })\r\n        });\r\n        \r\n        // Siempre guardar en localStorage tambi√©n\r\n        const stored = localStorage.getItem('game_scores');\r\n        const scores = stored ? JSON.parse(stored) : [];\r\n        scores.push({\r\n          id: Date.now().toString(),\r\n          game: 'fonema-inicial',\r\n          score,\r\n          attempts,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        localStorage.setItem('game_scores', JSON.stringify(scores));\r\n        \r\n        if (response.ok) {\r\n          setSaveMessage('‚úÖ ¬°Guardado exitosamente en la base de datos!');\r\n        } else {\r\n          // Intentar obtener el error espec√≠fico\r\n          const errorData = await response.json().catch(() => ({}));\r\n          console.error('Error guardando en base de datos:', errorData);\r\n          setSaveMessage(`‚ö†Ô∏è Error: ${errorData.error || 'Desconocido'}. Guardado localmente.`);\r\n        }\r\n      } else {\r\n        // Usuario NO registrado: guardar solo en localStorage\r\n        const stored = localStorage.getItem('game_scores');\r\n        const scores = stored ? JSON.parse(stored) : [];\r\n        scores.push({\r\n          id: Date.now().toString(),\r\n          game: 'fonema-inicial',\r\n          score,\r\n          attempts,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        localStorage.setItem('game_scores', JSON.stringify(scores));\r\n        setSaveMessage('üíæ Guardado localmente (Inicia sesi√≥n para guardar en la base de datos)');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving score:', err);\r\n      // Fallback: guardar en localStorage\r\n      const stored = localStorage.getItem('game_scores');\r\n      const scores = stored ? JSON.parse(stored) : [];\r\n      scores.push({\r\n        id: Date.now().toString(),\r\n        game: 'fonema-inicial',\r\n        score,\r\n        attempts,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      localStorage.setItem('game_scores', JSON.stringify(scores));\r\n      setSaveMessage('üíæ Guardado localmente');\r\n    }\r\n    \r\n    setTimeout(() => setSaveMessage(''), 4000);\r\n  };\r\n\r\n  const endGame = () => {\r\n    saveScore();\r\n    setTimeout(() => setGameStarted(false), 1500);\r\n  };\r\n\r\n  if (!gameStarted) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-100 p-8 mt-16 md:mt-20\">\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-6 text-center\">\r\n            üéØ Juego de Fonemas\r\n          </h1>\r\n          \r\n          <div className=\"bg-white rounded-xl shadow-lg p-8 mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-[#6B3F1D] mb-4\">¬øC√≥mo jugar?</h2>\r\n            <ol className=\"list-decimal list-inside space-y-3 text-gray-700\">\r\n              <li>Se mostrar√° un fonema grande en pantalla (B, C, D, etc.)</li>\r\n              <li>Presiona el bot√≥n del micr√≥fono</li>\r\n              <li>Di una palabra que empiece con ese fonema</li>\r\n              <li>¬°Gana 10 puntos por cada palabra correcta!</li>\r\n            </ol>\r\n            \r\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <p className=\"text-sm text-blue-800\">\r\n                <strong>üí° Beneficio terap√©utico:</strong> Las prolongaciones suelen aparecer al iniciar palabras. \r\n                Practicar fonemas iniciales reduce la tensi√≥n y mejora el ataque suave.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={startGame}\r\n            className=\"w-full py-4 bg-gradient-to-r from-[#6B3F1D] to-[#8B5F3D] text-white text-xl font-bold rounded-xl hover:shadow-lg transition-all\"\r\n          >\r\n            üéÆ Iniciar Juego\r\n          </button>\r\n\r\n          <Link \r\n            href=\"/progreso\" \r\n            className=\"block mt-4 text-center text-[#6B3F1D] hover:underline\"\r\n          >\r\n            üìä Ver mi progreso\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-100 p-8 mt-16 md:mt-20\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"flex justify-between items-center mb-6 flex-wrap gap-4\">\r\n          <div className=\"bg-white px-6 py-3 rounded-lg shadow-md\">\r\n            <span className=\"text-sm text-gray-600\">Puntos</span>\r\n            <p className=\"text-3xl font-bold text-[#6B3F1D]\">{score}</p>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={saveScore}\r\n              className=\"px-6 py-2 bg-[#6B3F1D] text-white rounded-lg hover:bg-[#8B5F3D] transition-colors font-semibold shadow-md\"\r\n            >\r\n              üíæ Guardar Progreso\r\n            </button>\r\n            <button\r\n              onClick={endGame}\r\n              className=\"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold shadow-md\"\r\n            >\r\n              üèÅ Terminar\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {saveMessage && (\r\n          <div className={`mb-4 p-3 rounded-lg text-center font-semibold ${\r\n            saveMessage.includes('‚úÖ') ? 'bg-green-100 text-green-800' : \r\n            saveMessage.includes('‚ùå') ? 'bg-red-100 text-red-800' :\r\n            'bg-blue-100 text-blue-800'\r\n          }`}>\r\n            {saveMessage}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"bg-white rounded-xl shadow-2xl p-6 md:p-10 text-center\">\r\n          <h2 className=\"text-gray-600 mb-4\">Di una palabra que empiece con:</h2>\r\n          <div className=\"inline-block bg-gradient-to-br from-[#F7C873] to-[#e6b35a] rounded-full p-8 shadow-xl mb-8\">\r\n            <span className=\"text-9xl font-black text-[#6B3F1D]\">/{currentFonema.toLowerCase()}/</span>\r\n          </div>\r\n\r\n          {recognizedWord && (\r\n            <div className=\"mb-6 p-4 bg-gray-100 rounded-lg\">\r\n              <p className=\"text-lg text-gray-700\">\r\n                Escuch√©: <strong>\"{recognizedWord}\"</strong>\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {feedback && (\r\n            <div className={`mb-6 p-4 rounded-lg text-lg font-semibold ${\r\n              feedback.includes('‚úÖ') ? 'bg-green-100 text-green-800' : \r\n              feedback.includes('üé§') ? 'bg-blue-100 text-blue-800' :\r\n              'bg-red-100 text-red-800'\r\n            }`}>\r\n              {feedback}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={startListening}\r\n            disabled={isListening}\r\n            className={`px-12 py-6 rounded-xl text-2xl font-bold shadow-lg transition-all ${\r\n              isListening \r\n                ? 'bg-red-500 text-white cursor-wait animate-pulse' \r\n                : 'bg-gradient-to-r from-green-500 to-green-600 text-white hover:shadow-2xl hover:scale-105'\r\n            }`}\r\n          >\r\n            {isListening ? 'üé§ Escuchando...' : 'üé§ Presiona para hablar'}\r\n          </button>\r\n\r\n          <div className=\"mt-8 grid grid-cols-1 gap-4 max-w-md mx-auto\">\r\n            <div className=\"bg-purple-50 p-3 rounded-lg\">\r\n              <div className=\"text-xs text-gray-600\">Precisi√≥n</div>\r\n              <div className=\"text-2xl font-bold text-purple-700\">\r\n                {attempts > 0 ? Math.round((score / (attempts * 10)) * 100) : 0}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}
module.exports=[18622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},42315,(e,r,t)=>{"use strict";r.exports=e.r(18622)},47540,(e,r,t)=>{"use strict";r.exports=e.r(42315).vendored["react-rsc"].React},72019,e=>{"use strict";var r=e.i(87464);e.i(19564);var t=e.i(15439),o=e.i(6477),a=e.i(83575),i=e.i(76241),n=e.i(62746),s=e.i(35963),u=e.i(82791);e.s(["AuthAdminApi",()=>a.default,"AuthApiError",()=>s.AuthApiError,"AuthClient",()=>i.default,"AuthError",()=>s.AuthError,"AuthImplicitGrantRedirectError",()=>s.AuthImplicitGrantRedirectError,"AuthInvalidCredentialsError",()=>s.AuthInvalidCredentialsError,"AuthInvalidJwtError",()=>s.AuthInvalidJwtError,"AuthInvalidTokenResponseError",()=>s.AuthInvalidTokenResponseError,"AuthPKCEGrantCodeExchangeError",()=>s.AuthPKCEGrantCodeExchangeError,"AuthRetryableFetchError",()=>s.AuthRetryableFetchError,"AuthSessionMissingError",()=>s.AuthSessionMissingError,"AuthUnknownError",()=>s.AuthUnknownError,"AuthWeakPasswordError",()=>s.AuthWeakPasswordError,"CustomAuthError",()=>s.CustomAuthError,"GoTrueAdminApi",()=>t.default,"GoTrueClient",()=>o.default,"NavigatorLockAcquireTimeoutError",()=>u.NavigatorLockAcquireTimeoutError,"SIGN_OUT_SCOPES",()=>n.SIGN_OUT_SCOPES,"isAuthApiError",()=>s.isAuthApiError,"isAuthError",()=>s.isAuthError,"isAuthImplicitGrantRedirectError",()=>s.isAuthImplicitGrantRedirectError,"isAuthRetryableFetchError",()=>s.isAuthRetryableFetchError,"isAuthSessionMissingError",()=>s.isAuthSessionMissingError,"isAuthWeakPasswordError",()=>s.isAuthWeakPasswordError,"lockInternals",()=>u.internals,"navigatorLock",()=>u.navigatorLock,"processLock",()=>u.processLock],51555),e.i(51555);var l=e.i(51670),E=e.i(10343);e.i(55633);var d=e.i(26468),c=e.i(84400),p=e.i(54174),A=e.i(44413);e.s(["REALTIME_CHANNEL_STATES",()=>c.REALTIME_CHANNEL_STATES,"REALTIME_LISTEN_TYPES",()=>c.REALTIME_LISTEN_TYPES,"REALTIME_POSTGRES_CHANGES_LISTEN_EVENT",()=>c.REALTIME_POSTGRES_CHANGES_LISTEN_EVENT,"REALTIME_PRESENCE_LISTEN_EVENTS",()=>p.REALTIME_PRESENCE_LISTEN_EVENTS,"REALTIME_SUBSCRIBE_STATES",()=>c.REALTIME_SUBSCRIBE_STATES,"RealtimeChannel",()=>c.default,"RealtimeClient",()=>d.default,"RealtimePresence",()=>p.default,"WebSocketFactory",()=>A.default],5511),e.i(5511);var h=e.i(2263);e.s(["AuthAdminApi",()=>a.default,"AuthApiError",()=>s.AuthApiError,"AuthClient",()=>i.default,"AuthError",()=>s.AuthError,"AuthImplicitGrantRedirectError",()=>s.AuthImplicitGrantRedirectError,"AuthInvalidCredentialsError",()=>s.AuthInvalidCredentialsError,"AuthInvalidJwtError",()=>s.AuthInvalidJwtError,"AuthInvalidTokenResponseError",()=>s.AuthInvalidTokenResponseError,"AuthPKCEGrantCodeExchangeError",()=>s.AuthPKCEGrantCodeExchangeError,"AuthRetryableFetchError",()=>s.AuthRetryableFetchError,"AuthSessionMissingError",()=>s.AuthSessionMissingError,"AuthUnknownError",()=>s.AuthUnknownError,"AuthWeakPasswordError",()=>s.AuthWeakPasswordError,"CustomAuthError",()=>s.CustomAuthError,"FunctionRegion",()=>E.FunctionRegion,"FunctionsError",()=>E.FunctionsError,"FunctionsFetchError",()=>E.FunctionsFetchError,"FunctionsHttpError",()=>E.FunctionsHttpError,"FunctionsRelayError",()=>E.FunctionsRelayError,"GoTrueAdminApi",()=>t.default,"GoTrueClient",()=>o.default,"NavigatorLockAcquireTimeoutError",()=>u.NavigatorLockAcquireTimeoutError,"PostgrestError",()=>l.PostgrestError,"REALTIME_CHANNEL_STATES",()=>c.REALTIME_CHANNEL_STATES,"REALTIME_LISTEN_TYPES",()=>c.REALTIME_LISTEN_TYPES,"REALTIME_POSTGRES_CHANGES_LISTEN_EVENT",()=>c.REALTIME_POSTGRES_CHANGES_LISTEN_EVENT,"REALTIME_PRESENCE_LISTEN_EVENTS",()=>p.REALTIME_PRESENCE_LISTEN_EVENTS,"REALTIME_SUBSCRIBE_STATES",()=>c.REALTIME_SUBSCRIBE_STATES,"RealtimeChannel",()=>c.default,"RealtimeClient",()=>d.default,"RealtimePresence",()=>p.default,"SIGN_OUT_SCOPES",()=>n.SIGN_OUT_SCOPES,"SupabaseClient",()=>h.default,"WebSocketFactory",()=>A.default,"createClient",()=>r.createClient,"isAuthApiError",()=>s.isAuthApiError,"isAuthError",()=>s.isAuthError,"isAuthImplicitGrantRedirectError",()=>s.isAuthImplicitGrantRedirectError,"isAuthRetryableFetchError",()=>s.isAuthRetryableFetchError,"isAuthSessionMissingError",()=>s.isAuthSessionMissingError,"isAuthWeakPasswordError",()=>s.isAuthWeakPasswordError,"lockInternals",()=>u.internals,"navigatorLock",()=>u.navigatorLock,"processLock",()=>u.processLock],72019)},3910,e=>{"use strict";var r=e.i(47909),t=e.i(74017),o=e.i(96250),a=e.i(59756),i=e.i(61916),n=e.i(14444),s=e.i(37092),u=e.i(69741),l=e.i(16795),E=e.i(87718),d=e.i(95169),c=e.i(47587),p=e.i(66012),A=e.i(70101),h=e.i(26937),R=e.i(10372),S=e.i(93695);e.i(52474);var T=e.i(220),_=e.i(89171);async function C(r){try{let{searchParams:t}=new URL(r.url),o=t.get("id");if(!o)return _.NextResponse.json({error:"ID de audio no proporcionado"},{status:400});let a=e.r(72019).createClient(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.SUPABASE_SERVICE_ROLE_KEY),{data:i,error:n}=await a.from("audios").select("*").eq("id",o).single();if(n||!i)return _.NextResponse.json({ok:!0,message:"Registro de audio eliminado"},{status:200});let s=null;if(i.file_url){let e=i.file_url.split("/");s=e[e.length-1]}if(s)try{await a.storage.from("audio-uploads").remove([s])}catch(e){}let{error:u}=await a.from("audios").delete().eq("id",o);if(u)return console.error("Error al eliminar el registro:",u),_.NextResponse.json({error:"Error al eliminar el registro de audio"},{status:500});return _.NextResponse.json({ok:!0,message:"Audio eliminado completamente de la nube"},{status:200})}catch(e){return console.error("Error en DELETE /api/delete-audio:",e),_.NextResponse.json({error:e?.message||"Error desconocido"},{status:500})}}e.s(["DELETE",()=>C,"dynamic",0,"force-dynamic","runtime",0,"nodejs"],32831);var m=e.i(32831);let v=new r.AppRouteRouteModule({definition:{kind:t.RouteKind.APP_ROUTE,page:"/api/delete-audio/route",pathname:"/api/delete-audio",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/delete-audio/route.js",nextConfigOutput:"",userland:m}),{workAsyncStorage:g,workUnitAsyncStorage:I,serverHooks:x}=v;function f(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:I})}async function N(e,r,o){v.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let _="/api/delete-audio/route";_=_.replace(/\/index$/,"")||"/";let C=await v.prepare(e,r,{srcPage:_,multiZoneDraftMode:!1});if(!C)return r.statusCode=400,r.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:m,params:g,nextConfig:I,parsedUrl:x,isDraftMode:f,prerenderManifest:N,routerServerContext:w,isOnDemandRevalidate:L,revalidateOnlyGenerated:P,resolvedPathname:k,clientReferenceManifest:y,serverActionsManifest:M}=C,b=(0,u.normalizeAppPath)(_),O=!!(N.dynamicRoutes[b]||N.routes[k]),U=async()=>((null==w?void 0:w.render404)?await w.render404(e,r,x,!1):r.end("This page could not be found"),null);if(O&&!f){let e=!!N.routes[k],r=N.dynamicRoutes[b];if(r&&!1===r.fallback&&!e){if(I.experimental.adapterPath)return await U();throw new S.NoFallbackError}}let G=null;!O||v.isDev||f||(G="/index"===(G=k)?"/":G);let F=!0===v.isDev||!O,H=O&&!F;M&&y&&(0,n.setReferenceManifestsSingleton)({page:_,clientReferenceManifest:y,serverActionsManifest:M,serverModuleMap:(0,s.createServerModuleMap)({serverActionsManifest:M})});let q=e.method||"GET",j=(0,i.getTracer)(),B=j.getActiveScopeSpan(),D={params:g,prerenderManifest:N,renderOpts:{experimental:{authInterrupts:!!I.experimental.authInterrupts},cacheComponents:!!I.cacheComponents,supportsDynamicResponse:F,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:I.cacheLife,waitUntil:o.waitUntil,onClose:e=>{r.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(r,t,o)=>v.onRequestError(e,r,o,w)},sharedContext:{buildId:m}},K=new l.NodeNextRequest(e),V=new l.NodeNextResponse(r),W=E.NextRequestAdapter.fromNodeNextRequest(K,(0,E.signalFromNodeResponse)(r));try{let n=async e=>v.handle(W,D).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":r.statusCode,"next.rsc":!1});let t=j.getRootSpanAttributes();if(!t)return;if(t.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${t.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=t.get("next.route");if(o){let r=`${q} ${o}`;e.setAttributes({"next.route":o,"http.route":o,"next.span_name":r}),e.updateName(r)}else e.updateName(`${q} ${_}`)}),s=!!(0,a.getRequestMeta)(e,"minimalMode"),u=async a=>{var i,u;let l=async({previousCacheEntry:t})=>{try{if(!s&&L&&P&&!t)return r.statusCode=404,r.setHeader("x-nextjs-cache","REVALIDATED"),r.end("This page could not be found"),null;let i=await n(a);e.fetchMetrics=D.renderOpts.fetchMetrics;let u=D.renderOpts.pendingWaitUntil;u&&o.waitUntil&&(o.waitUntil(u),u=void 0);let l=D.renderOpts.collectedTags;if(!O)return await (0,p.sendResponse)(K,V,i,D.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),r=(0,A.toNodeOutgoingHttpHeaders)(i.headers);l&&(r[R.NEXT_CACHE_TAGS_HEADER]=l),!r["content-type"]&&e.type&&(r["content-type"]=e.type);let t=void 0!==D.renderOpts.collectedRevalidate&&!(D.renderOpts.collectedRevalidate>=R.INFINITE_CACHE)&&D.renderOpts.collectedRevalidate,o=void 0===D.renderOpts.collectedExpire||D.renderOpts.collectedExpire>=R.INFINITE_CACHE?void 0:D.renderOpts.collectedExpire;return{value:{kind:T.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:r},cacheControl:{revalidate:t,expire:o}}}}catch(r){throw(null==t?void 0:t.isStale)&&await v.onRequestError(e,r,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:L})},w),r}},E=await v.handleResponse({req:e,nextConfig:I,cacheKey:G,routeKind:t.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:N,isRoutePPREnabled:!1,isOnDemandRevalidate:L,revalidateOnlyGenerated:P,responseGenerator:l,waitUntil:o.waitUntil,isMinimalMode:s});if(!O)return null;if((null==E||null==(i=E.value)?void 0:i.kind)!==T.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==E||null==(u=E.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||r.setHeader("x-nextjs-cache",L?"REVALIDATED":E.isMiss?"MISS":E.isStale?"STALE":"HIT"),f&&r.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let d=(0,A.fromNodeOutgoingHttpHeaders)(E.value.headers);return s&&O||d.delete(R.NEXT_CACHE_TAGS_HEADER),!E.cacheControl||r.getHeader("Cache-Control")||d.get("Cache-Control")||d.set("Cache-Control",(0,h.getCacheControlHeader)(E.cacheControl)),await (0,p.sendResponse)(K,V,new Response(E.value.body,{headers:d,status:E.value.status||200})),null};B?await u(B):await j.withPropagatedContext(e.headers,()=>j.trace(d.BaseServerSpan.handleRequest,{spanName:`${q} ${_}`,kind:i.SpanKind.SERVER,attributes:{"http.method":q,"http.target":e.url}},u))}catch(r){if(r instanceof S.NoFallbackError||await v.onRequestError(e,r,{routerKind:"App Router",routePath:b,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:L})}),O)throw r;return await (0,p.sendResponse)(K,V,new Response(null,{status:500})),null}}e.s(["handler",()=>N,"patchFetch",()=>f,"routeModule",()=>v,"serverHooks",()=>x,"workAsyncStorage",()=>g,"workUnitAsyncStorage",()=>I],3910)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__430d4021._.js.map